
Функция ПолучитьПризнакПроведенности(СсылкаНаОбъект)
	
	Возврат СсылкаНаОбъект.Проведен;
	
КонецФункции

&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)
	
	МассивИскл = Новый Массив;
	Для Каждого СсылкаНаОбъект Из ПараметрКоманды Цикл
		Если НЕ ПолучитьПризнакПроведенности(СсылкаНаОбъект) Тогда
			ОбщегоНазначения.СообщитьОбОшибке("Документ не проведён! Для печати необходимо провести документ!");
			МассивИскл.Добавить(СсылкаНаОбъект);
			//Возврат;
		КонецЕсли;
	КонецЦикла;
	Для Каждого СсылкаНаОбъект Из МассивИскл Цикл
		ПараметрКоманды.Удалить(ПараметрКоманды.Найти(СсылкаНаОбъект));
	КонецЦикла;
	Если ПараметрКоманды.Количество() = 0 Тогда
		Возврат;
	КонецЕсли;
	
	УправлениеПечатьюКлиент.ВыполнитьКомандуПечати(
		"Документ.МП_ЗадачаТехнолога",
		"ПередачаТоваровПоставщику",
		ПараметрКоманды,
		Неопределено,
		Новый Структура("Тип", "МП_ЗадачаТехнолога"));
	
	//ТабДок = ПечатьНакладной(ПараметрКоманды);
	//
	//ТабДок.ОтображатьСетку 		= Ложь;
	//ТабДок.ТолькоПросмотр 		= Истина;
	//ТабДок.ОтображатьЗаголовки 	= Ложь;
	//ТабДок.Показать();
	
КонецПроцедуры

&НаСервере
Функция ПечатьНакладной(СсылкаНаОбъект)
	
	ДокументОбъект = СсылкаНаОбъект.ПолучитьОбъект();
	Если ДокументОбъект = Неопределено Тогда
		Возврат Новый ТабличныйДокумент;
	КонецЕсли;
	
	Возврат ДокументОбъект.ПечатьПередачаТоваровПоставщику();
	
КонецФункции
