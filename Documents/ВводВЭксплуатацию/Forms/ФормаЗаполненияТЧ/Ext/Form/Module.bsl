
&НаКлиенте
Процедура Заполнить(Команда)
	
	Результат = Новый Структура;
	Результат.Вставить("АмортизационнаяГруппа"		, АмортизационнаяГруппа);
	Результат.Вставить("РежимЗаполнения"			, РежимЗаполнения);
	Результат.Вставить("СрокПолезногоИспользования"	, СрокПолезногоИспользования);
	Результат.Вставить("КодПоОКОФ"					, КодПоОКОФ);
	Результат.Вставить("ГруппаОС"					, ГруппаОС);
	Результат.Вставить("ВидНМА"						, ВидНМА);
	
	ЭтаФорма.Закрыть(Результат);
	
КонецПроцедуры 

Процедура УстановитьУсловноеОформление()
	
	Элементы.СрокПолезногоИспользования.Видимость 	= ПоказыватьСрок;
	Элементы.РежимЗаполнения.Видимость 				= ПоказыватьРежим;
	
	Если ВыбранноеПоле <> "" Тогда
		
		Элементы.АмортизационнаяГруппа.Видимость 		= Ложь;
		Элементы.ГруппаОС.Видимость              		= Ложь;
		Элементы.КодПоОКОФ.Видимость		     		= Ложь;
		Элементы.СрокПолезногоИспользования.Видимость  	= Ложь;
		//+++АК Susk (Суслин К.В.) 2018.10.08 ИП-00020055	 
		Элементы.ВидНМА.Видимость  						= Ложь;
		//---АК Susk (Суслин К.В.) 		
		
		Если ВыбранноеПоле =  Врег("ОборудованиеАмортизационнаяГруппаОС")
				ИЛИ	ВыбранноеПоле =  Врег("ОсновныеСредстваАмортизационнаяГруппаОС") Тогда
			Элементы.АмортизационнаяГруппа.Видимость = Истина;
		КонецЕсли;	
			
		Если ВыбранноеПоле =  Врег("ОборудованиеГруппаОС")
				ИЛИ ВыбранноеПоле =  Врег("ОсновныеСредстваГруппаОС") Тогда
			Элементы.ГруппаОС.Видимость = Истина;			
		КонецЕсли;	
		
		Если ВыбранноеПоле =  Врег("ОборудованиеКодПоОКОФ")
				ИЛИ ВыбранноеПоле =  Врег("ОсновныеСредстваКодПоОКОФ") Тогда
			Элементы.КодПоОКОФ.Видимость = Истина;			
		КонецЕсли;
		
		//+++АК Susk (Суслин К.В.) 2018.10.08 ИП-00020055	 
		Если ВыбранноеПоле =  Врег("ОборудованиеВидНМА")
				ИЛИ ВыбранноеПоле =  Врег("ОсновныеСредстваВидНМА") Тогда
			Элементы.ВидНМА.Видимость = Истина;			
		КонецЕсли;
		//---АК Susk (Суслин К.В.) 
		
		Если ВыбранноеПоле =  Врег("ОборудованиеСрокПолезногоИспользования")
				ИЛИ ВыбранноеПоле =  Врег("ОсновныеСредстваСрокПолезногоИспользования") Тогда
			Элементы.СрокПолезногоИспользования.Видимость = Истина;
		КонецЕсли;
		
	//+++АК Susk (Суслин К.В.) 2018.10.08 ИП-00020055
	Иначе
		ВводНМА = ВидОперации = ПредопределенноеЗначение("Перечисление.ВидыОперацийВводВЭксплуатацию.ВводВЭксплуатациюНМА");
		
		Элементы.ГруппаОС.Видимость              		= НЕ ВводНМА;
		Элементы.КодПоОКОФ.Видимость		     		= НЕ ВводНМА;		
		Элементы.ВидНМА.Видимость  						= ВводНМА;
	//---АК Susk (Суслин К.В.) 			
	КонецЕсли;
	
КонецПроцедуры


&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	//+++АК Susk (Суслин К.В.) 2018.10.08 ИП-00020055	 
	Если Параметры.Свойство("ВидОперации") Тогда
		ВидОперации = Параметры.ВидОперации;
	КонецЕсли;
	//---АК Susk (Суслин К.В.) 
	
	Если Параметры.Свойство("ВыбранноеПоле") Тогда	
		ВыбранноеПоле = Параметры.ВыбранноеПоле;
	Иначе 
		ВыбранноеПоле = "";
	КонецЕсли;	
		
	Если Параметры.Свойство("ПоказыватьСрок") Тогда
		ПоказыватьСрок = Параметры.ПоказыватьСрок;
	Иначе 
		ПоказыватьСрок = Истина;
	КонецЕсли;
	
	Если Параметры.Свойство("ПоказыватьРежим") Тогда
		ПоказыватьРежим = Параметры.ПоказыватьРежим;
	Иначе 
		ПоказыватьРежим = Истина;
	КонецЕсли;

	Если Параметры.Свойство("РежимЗаполнения") Тогда
		РежимЗаполнения = Параметры.РежимЗаполнения;
	Иначе 
		РежимЗаполнения = "Выделенные";
	КонецЕсли;
	
	Если Параметры.Свойство("АмортизационнаяГруппа") Тогда
		АмортизационнаяГруппа = Параметры.АмортизационнаяГруппа;
	Иначе 
		АмортизационнаяГруппа = Перечисления.АмортизационныеГруппы.ПустаяСсылка();
	КонецЕсли;
	
	Если Параметры.Свойство("КодПоОКОФ") Тогда
		КодПоОКОФ = Параметры.КодПоОКОФ;
	Иначе 
		КодПоОКОФ = Справочники.ОбщероссийскийКлассификаторОсновныхФондов.ПустаяСсылка();
	КонецЕсли;

	Если Параметры.Свойство("ГруппаОС") Тогда
		ГруппаОС = Параметры.ГруппаОС;
	Иначе 
		ГруппаОС = Перечисления.ГруппыОС.ПустаяСсылка();
	КонецЕсли;
	
	//+++АК Susk (Суслин К.В.) 2018.10.08 ИП-00020055	 
	Если Параметры.Свойство("ВидНМА") Тогда
		ВидНМА = Параметры.ВидНМА;
	Иначе 
		ВидНМА = Перечисления.ВидыНМА.ПустаяСсылка();
	КонецЕсли;
	//---АК Susk (Суслин К.В.) 
	
	Если Параметры.Свойство("СрокПолезногоИспользования") Тогда
		СрокПолезногоИспользования = Параметры.СрокПолезногоИспользования;
	Иначе 
		СрокПолезногоИспользования = 0;
	КонецЕсли;
	
	//
	УстановитьУсловноеОформление();
	
КонецПроцедуры
	

&НаКлиенте
Процедура Отмена(Команда)
	
	ЭтаФорма.Закрыть();
	
КонецПроцедуры
