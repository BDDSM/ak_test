
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Список.ТекстЗапроса =
	"ВЫБРАТЬ
	|	ДокументПредзаказ.Ссылка,
	|	ДокументПредзаказ.ВерсияДанных,
	|	ДокументПредзаказ.ПометкаУдаления,
	|	ДокументПредзаказ.Номер,
	|	ДокументПредзаказ.Дата,
	|	ДокументПредзаказ.Проведен,
	|	ДокументПредзаказ.Склад,
	|	ДокументПредзаказ.ДатаПоступления,
	|	ДокументПредзаказ.Поставщик,
	|	ДокументПредзаказ.Подготовлен,
	|	ДокументПредзаказ.ЗагруженИзАкцес,
	|	ДокументПредзаказ.Ответственный
	|ИЗ
	|	Документ.Предзаказ КАК ДокументПредзаказ
	|ГДЕ
	|	ИСТИНА";
				   
	Если Параметры.Свойство("ПодготовленОтбор") Тогда
		Список.ТекстЗапроса = Список.ТекстЗапроса + " И ДокументПредзаказ.Подготовлен = &ПодготовленОтбор";
		Список.Параметры.УстановитьЗначениеПараметра("ПодготовленОтбор", Параметры.ПодготовленОтбор);
	КонецЕсли;
				   
	Если Параметры.Свойство("Поставщик")
			И ЗначениеЗаполнено(Параметры.Поставщик) Тогда
		Список.ТекстЗапроса = Список.ТекстЗапроса + " И ДокументПредзаказ.Поставщик = &Поставщик";
		Список.Параметры.УстановитьЗначениеПараметра("Поставщик", Параметры.Поставщик);
	КонецЕсли;
	
	Если Параметры.Свойство("Склад")
			И ЗначениеЗаполнено(Параметры.Склад) Тогда
		Список.ТекстЗапроса = Список.ТекстЗапроса + " И ДокументПредзаказ.Склад = &Склад";
		Список.Параметры.УстановитьЗначениеПараметра("Склад", Параметры.Склад);
	КонецЕсли;
	
	Если Параметры.Свойство("ДатаПоступления")
			И ЗначениеЗаполнено(Параметры.ДатаПоступления) Тогда
		Список.ТекстЗапроса = Список.ТекстЗапроса + " И ДокументПредзаказ.ДатаПоступления = &ДатаПоступления";
		Список.Параметры.УстановитьЗначениеПараметра("ДатаПоступления", Параметры.ДатаПоступления);
	КонецЕсли;
	
КонецПроцедуры
