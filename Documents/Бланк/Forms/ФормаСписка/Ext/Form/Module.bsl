
&НаКлиенте
Процедура ЗагрузитьБланки(Команда)
	
	ОткрытьФорму("Документ.Бланк.Форма.ФормаЗагрузкиБланков",, ВладелецФормы);
	
КонецПроцедуры

&НаКлиенте
Процедура ОбработкаОповещения(ИмяСобытия, Параметр, Источник)
	
	Если ИмяСобытия = "ОбновитьБланки" Тогда
		Элементы.Список.Обновить();
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура СписокВыбор(Элемент, ВыбраннаяСтрока, Поле, СтандартнаяОбработка)
	
	ТекДок = Элементы.Список.ТекущиеДанные.Ссылка; 
	
	П = Новый Структура("Ключ", ТекДок);
	Форма = ПолучитьФорму("Документ.Бланк.Форма.ФормаДокумента", П);
	Форма.Открыть();
	
КонецПроцедуры

&НаКлиенте
Процедура ОтчетПоБланкам(Команда)
	
	ОткрытьФорму("Отчет.ОтчетПоБланкам.Форма.ФормаОтчета");
	
КонецПроцедуры

&НаКлиенте
Процедура ДобавитьНовыйБланк(Команда)
	
	ОткрытьФорму("Документ.Бланк.Форма.ФормаДокумента");
		
КонецПроцедуры

&НаКлиенте
Процедура ОтправитьСМС(Команда)
	СписокБланков=Новый СписокЗначений;
	Для каждого ВыделеннаяСтрока Из Элементы.Список.ВыделенныеСтроки Цикл
		ТекДанные = Элементы.Список.ДанныеСтроки(ВыделеннаяСтрока);
		Если СокрЛП(ТекДанные.ТипБланка)="1" Тогда
			СписокБланков.Добавить(ТекДанные.Ссылка);
		КонецЕсли;	
	КонецЦикла;	
	ПараметрыФормы = Новый Структура("СписокБланков", СписокБланков);
	ОткрытьФорму("Документ.Бланк.Форма.ФормаРассылкиСМС", ПараметрыФормы,ЭтаФорма);
КонецПроцедуры
