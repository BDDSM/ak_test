
Процедура ОбработкаЗаполнения(ДанныеЗаполнения, СтандартнаяОбработка)
	
	Если ТипЗнч(ДанныеЗаполнения) = Тип("ДокументСсылка.РасходныйОрдерСклад") Тогда
		ДокументОснование = ДанныеЗаполнения;
		Склад = ДанныеЗаполнения.Склад;
		Технолог = ДанныеЗаполнения.Получатель;
	КонецЕсли;	
	
КонецПроцедуры

//Процедура ПриЗаписи(Отказ)
//	
//	Попытка
//		СоздатьЗаписиПрикрепленныеФотоКОбъектам();
//	Исключение
//	
//	КонецПопытки;
//КонецПроцедуры


//Процедура СоздатьЗаписиПрикрепленныеФотоКОбъектам()
//	КаталогФотографий = СокрЛП(Константы.МП_КаталогХраненияФайловЗадачМП.Получить());
//	Если Прав(КаталогФотографий, 1) <> "\" Тогда
//		КаталогФотографий = КаталогФотографий + "\";
//	КонецЕсли;
//	Для Каждого ЭлементСтруктуры Из Фотографии Цикл
//		Если ЗначениеЗаполнено(ЭлементСтруктуры.ОтносительноеИмяФайла) Тогда
//			
//			ФайлОбъект = Новый Файл(КаталогФотографий + ЭлементСтруктуры.ОтносительноеИмяФайла);
//			УинФайла = ФайлОбъект.ИмяБезРасширения;
//			Запись=РегистрыСведений.ПрикрепленныеФотоКОбъектам.СоздатьМенеджерЗаписи();
//			//Запись = Набор.Добавить();
//			Запись.СтруктурнаяЕдиница = Склад;
//			Запись.ТипЗаписи = ПредопределенноеЗначение("Перечисление.ТипыЗаписейПриложенныхКартинок.ОтчетТехнолога");
//			Запись.ОтносительноеИмяФайла = ЭлементСтруктуры.ОтносительноеИмяФайла;
//			Запись.Расширение = СтрЗаменить(ФайлОбъект.Расширение, ".", "");
//			Запись.УинЗаписи = УинФайла;
//			Запись.Объект = Ссылка;
//			Запись.ДатаДобавления = Дата;
//			Запись.Текст="Комментарий: Результат "+Результат+" "+Комментарий;
//			Попытка
//				Запись.Записать();
//			Исключение
//			КонецПопытки; 
//		КонецЕсли;
//	КонецЦикла;
//КонецПроцедуры
