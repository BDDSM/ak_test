
//+++АК sole 2018.08.01 ИП-00018320.06
// Обработка статуса документа на основании данных из письма
//
// Параметры:
//  ДокументСсылка       - <Тип.ДокументСсылка> - Документ для обработки
//  СтруктураПараметров  - <Тип.Структура> - Структура данных, которая хранит 
//                         данные по выполненному действию (Согласовано, Отклонено) 
Процедура ОбработатьСогласованиеДокументаИзПисьма(ДокументСсылка, СтруктураПараметров) Экспорт
	
	Если СтруктураПараметров.Согласовано И НЕ СтруктураПараметров.Отклонено Тогда
		
		Статус = Перечисления.СтатусыЗаявокНаПеревозку.Согласована;
		
	ИначеЕсли НЕ СтруктураПараметров.Согласовано И СтруктураПараметров.Отклонено Тогда
		
		Статус = Перечисления.СтатусыЗаявокНаПеревозку.Черновик;
		
	КонецЕсли;
	
	Если ЗначениеЗаполнено(Статус) Тогда
		
		ДокументОбъект = ДокументСсылка.ПолучитьОбъект();		
		ДокументОбъект.Статус = Статус;
		ДокументОбъект.Записать(РежимЗаписиДокумента.Проведение);
		
	КонецЕсли;	

КонецПроцедуры
