// Процедура вызывается при выборе пункта подменю "Движения документа по регистрам" меню "Перейти".
// командной панели формы. Процедура отрабатывает печать движений документа по регистрам.
//
Процедура ОсновныеДействияФормыНастройка(Кнопка)

	Если ЭлементыФормы.ДокументСписок.ТекущиеДанные = Неопределено тогда
		Возврат
	КонецЕсли;

	ОбщегоНазначения.РучнаяКорректировкаОсновнаяФорма(Ложь,ЭлементыФормы.ДокументСписок.ТекущиеДанные.Ссылка,
													  ЭлементыФормы.ДокументСписок.ТекущиеДанные.Ссылка.ПолучитьОбъект());

КонецПроцедуры // ДействияФормыДвиженияДокументаПоРегистрам()

// Процедура вызова структуры подчиненности документа
//
Процедура ДействияФормыСтруктураПодчиненностиДокумента(Кнопка)
	
	Если ЭлементыФормы.ДокументСписок.ТекущиеДанные = Неопределено тогда
		Возврат
	КонецЕсли;
	
	РаботаСДиалогами.ПоказатьСтруктуруПодчиненностиДокумента(ЭлементыФормы.ДокументСписок.ТекущиеДанные.Ссылка);
	
КонецПроцедуры

//+++АК SUVV 2018.03.20 ИП-00018025
Процедура ДействияФормыДействиеОтчетСФАренда(Кнопка)
	
	ОтборПоДокументу = Новый Структура();

	ТекСтрока = ЭлементыФормы.ДокументСписок.ТекущаяСтрока;
	Если ТекСтрока <> неопределено Тогда 
		ОтборПоДокументу.Вставить("ДокументНачислениеАренды", ТекСтрока.Ссылка);
	КонецЕсли;
	ПараметрыФормы = Новый Структура("СформироватьПриОткрытии, Отбор", Истина, ОтборПоДокументу);
	ФормаОтчета = ПолучитьФорму("Отчет.ОтчетПоСФАренда.Форма.ФормаОтчета", ПараметрыФормы);
	НовыеПользовательскиеНастройки = Новый ПользовательскиеНастройкиКомпоновкиДанных;
	КомпоновщикНастроек = ФормаОтчета.Отчет.КомпоновщикНастроек;
	КомпоновщикНастроек.ЗагрузитьПользовательскиеНастройки(НовыеПользовательскиеНастройки);
	//+++ AK suvv 04.04.2018 ИП-00018025.04
	ИдНастройки = КомпоновщикНастроек.ПользовательскиеНастройки.ПолучитьИдентификаторПоОбъекту(КомпоновщикНастроек.Настройки.ПараметрыДанных.НайтиЗначениеПараметра(Новый ПараметрКомпоновкиДанных("Период")));
	ПараметрПериод = КомпоновщикНастроек.ПользовательскиеНастройки.Элементы.Найти(ИдНастройки);
	Если ПараметрПериод <> неопределено Тогда 
		Если ТекСтрока <> неопределено Тогда 
			ПараметрПериод.Использование = Истина;
			ПараметрПериод.Значение.ДатаНачала = НачалоДня(ТекСтрока.Ссылка.Дата);
			ПараметрПериод.Значение.ДатаОкончания = КонецДня(ТекСтрока.Ссылка.Дата);
		Иначе
			ПараметрПериод.Использование = Истина;
			ПараметрПериод.Значение.ДатаНачала = НачалоМесяца(ТекущаяДата());
			ПараметрПериод.Значение.ДатаОкончания = КонецМесяца(ТекущаяДата());
		КонецЕсли;
	КонецЕсли;
	//--- AK suvv
	ОткрытьФорму(ФормаОтчета);
	ФормаОтчета.СкомпоноватьРезультат();
	
КонецПроцедуры //---АК SUVV