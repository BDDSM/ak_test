

// Обработчик события ПриИзменении элементов ПолеПрописи1наРусском, ..., ПолеПрописи8наРусском.
//
Процедура ПолеПрописиНаРусскомПриИзменении(Элемент)

	СформироватьПараметрыПрописиНаРусском();

КонецПроцедуры

////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ И ФУНКЦИИ, ВЫЗЫВАЕМЫЕ ИЗ ОБРАБОТЧИКОВ

// Процедура считывает параметры прописи и заполняет соответствующие поля диалога.
//
// Параметры:
//  Нет.
//
Процедура ПрочитатьПараметрыПрописи()

	СтрокаПараметров = СтрЗаменить(ПараметрыПрописиНаРусском, ",", Символы.ПС);

	ЭлементыФормы.ПолеПрописи1наРусском.Значение        = СокрЛП(СтрПолучитьСтроку(СтрокаПараметров, 1));
	ЭлементыФормы.ПолеПрописи2наРусском.Значение        = СокрЛП(СтрПолучитьСтроку(СтрокаПараметров, 2));
	ЭлементыФормы.ПолеПрописи3наРусском.Значение        = СокрЛП(СтрПолучитьСтроку(СтрокаПараметров, 3));
	ЭлементыФормы.ПолеПрописи4наРусском.Значение        = СокрЛП(СтрПолучитьСтроку(СтрокаПараметров, 4));
//	ЭлементыФормы.ПолеПрописи5наРусском.Значение        = СокрЛП(СтрПолучитьСтроку(СтрокаПараметров, 5));
//	ЭлементыФормы.ПолеПрописи6наРусском.Значение        = СокрЛП(СтрПолучитьСтроку(СтрокаПараметров, 6));
//	ЭлементыФормы.ПолеПрописи7наРусском.Значение        = СокрЛП(СтрПолучитьСтроку(СтрокаПараметров, 7));
//	ЭлементыФормы.ПолеПрописи8наРусском.Значение        = СокрЛП(СтрПолучитьСтроку(СтрокаПараметров, 8));
//	ЭлементыФормы.ПолеПрописиДлинаДробнойЧасти.Значение = СокрЛП(СтрПолучитьСтроку(СтрокаПараметров, 9));

	Если ЭлементыФормы.ПолеПрописи4наРусском.Значение = Неопределено Тогда
		ЭлементыФормы.ПолеПрописи4наРусском.Значение = ЭлементыФормы.ПолеПрописи4наРусском.СписокВыбора[0].Значение;
	КонецЕсли;

	//Если ЭлементыФормы.ПолеПрописи8наРусском.Значение = Неопределено Тогда
	//	ЭлементыФормы.ПолеПрописи8наРусском.Значение = ЭлементыФормы.ПолеПрописи8наРусском.СписокВыбора[0].Значение;
	//КонецЕсли;

	//Если ЭлементыФормы.ПолеПрописиДлинаДробнойЧасти.Значение = Неопределено Тогда
	//	ЭлементыФормы.ПолеПрописиДлинаДробнойЧасти.Значение = ЭлементыФормы.ПолеПрописиДлинаДробнойЧасти.СписокВыбора[0].Значение;
	//КонецЕсли;

КонецПроцедуры

// Процедура формирует параметры прописи для русского языка из соответствующих полей диалога.
//
// Параметры:
//  Нет.
//
Процедура СформироватьПараметрыПрописиНаРусском()

	ПараметрыПрописиНаРусском = ЭлементыФормы.ПолеПрописи1наРусском.Значение + ", "
	                          + ЭлементыФормы.ПолеПрописи2наРусском.Значение + ", "
	                          + ЭлементыФормы.ПолеПрописи3наРусском.Значение + ", "
	                          + ЭлементыФормы.ПолеПрописи4наРусском.Значение + ", "
	                          + ", "
	                          + ", "
	                          + ", "
	                          + ", "
	                          + 0;

КонецПроцедуры

// Процедура формирует надписи к полям прописи для русского языка.
//
// Параметры:
//  Нет.
//
Процедура СформироватьНадписиПолейПрописиНаРусском()

	Надписи = Новый Структура("м1, м2, м3, ж1, ж2, ж3, с1, с2, с3");

	Надписи.м1 = "один:"; Надписи.м2 = "два:"; Надписи.м3 = "пять:";
	Надписи.ж1 = "одна:"; Надписи.ж2 = "две:"; Надписи.ж3 = "пять:";
	Надписи.с1 = "одно:"; Надписи.с2 = "два:"; Надписи.с3 = "пять:";

	Род = ЭлементыФормы.ПолеПрописи4наРусском.Значение;

	ЭлементыФормы.НадписьПолеПрописи1наРусском.Заголовок = Надписи[Род + "1"];
	ЭлементыФормы.НадписьПолеПрописи2наРусском.Заголовок = Надписи[Род + "2"];
	ЭлементыФормы.НадписьПолеПрописи3наРусском.Заголовок = Надписи[Род + "3"];

	//Род = ЭлементыФормы.ПолеПрописи8наРусском.Значение;

	//ЭлементыФормы.НадписьПолеПрописи5наРусском.Заголовок = Надписи[Род + "1"];
	//ЭлементыФормы.НадписьПолеПрописи6наРусском.Заголовок = Надписи[Род + "2"];
	//ЭлементыФормы.НадписьПолеПрописи7наРусском.Заголовок = Надписи[Род + "3"];

КонецПроцедуры

Процедура ОбновлениеОтображения()
	
	СформироватьНадписиПолейПрописиНаРусском();
	
КонецПроцедуры

Процедура ПриИзмененииДанных()
	
	// Перечитываются параметры прописи.
	ПрочитатьПараметрыПрописи();
	
КонецПроцедуры

// Род целой части на русском языке
ЭлементыФормы.ПолеПрописи4наРусском.СписокВыбора.Очистить();
ЭлементыФормы.ПолеПрописи4наРусском.СписокВыбора.Добавить("м", "Мужской");
ЭлементыФормы.ПолеПрописи4наРусском.СписокВыбора.Добавить("ж", "Женский");
ЭлементыФормы.ПолеПрописи4наРусском.СписокВыбора.Добавить("с", "Средний");

