
//+++ ZICD ИП-00014826 20.02.2017
Процедура СправочникСписокСчетЗатратПриИзменении(Элемент)
	УстановитьВидыСубконтоДляСчетаЗатрат(Элемент.Значение);
КонецПроцедуры
Процедура СправочникСписокПриАктивизацииСтроки(Элемент)
	СтрокаТабличнойЧасти  = ЭлементыФормы.СправочникСписок.ТекущиеДанные;
	УстановитьВидыСубконтоДляСчетаЗатрат(СтрокаТабличнойЧасти.СчетЗатрат);
КонецПроцедуры
Процедура УстановитьВидыСубконтоДляСчетаЗатрат(СчетЗатрат)
	
	СтрокаТабличнойЧасти  = ЭлементыФормы.СправочникСписок.ТекущиеДанные;
	КолонкиТабличнойЧасти = ЭлементыФормы.СправочникСписок.Колонки;
	
	РаботаСДиалогами.ПриВыбореСчетаВТабличномПоле(СчетЗатрат,
		СтрокаТабличнойЧасти.СубконтоЗатрат1, КолонкиТабличнойЧасти.Субконто1,
		СтрокаТабличнойЧасти.СубконтоЗатрат2, КолонкиТабличнойЧасти.Субконто2,
		СтрокаТабличнойЧасти.СубконтоЗатрат3, КолонкиТабличнойЧасти.Субконто3);
								 
	УстановитьДоступностьСубконтоЗатрат();

КонецПроцедуры
Процедура УстановитьДоступностьСубконтоЗатрат()
	
	Если ЭлементыФормы.СправочникСписок.ТекущиеДанные = Неопределено Тогда
		Возврат;
	КонецЕсли;
	 
	Если ЭлементыФормы.СправочникСписок.ТекущиеДанные.ЭтоГруппа Тогда
		Возврат;
	КонецЕсли;
	
	Счет = ЭлементыФормы.СправочникСписок.ТекущиеДанные.СчетЗатрат;
	
	
	КоличествоСубконто = Счет.ВидыСубконто.Количество();
	
	Для Ном = 1 по 3 Цикл

		Если (Ном <= КоличествоСубконто) и (ЗначениеЗаполнено(Счет)) Тогда
			ЭлементыФормы.СправочникСписок.Колонки["Субконто"+Ном].Доступность = Истина;
			
		Иначе
			ЭлементыФормы.СправочникСписок.Колонки["Субконто"+Ном].Доступность = Ложь;
		КонецЕсли;

	КонецЦикла;

КонецПроцедуры
//---


