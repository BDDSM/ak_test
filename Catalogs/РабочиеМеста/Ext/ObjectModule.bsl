
Процедура ПередЗаписью(Отказ)
	//+++АК KIRN 2018.03.16 ИП-00018137      
	//позволяет очищать реквизиты у удаленных
	Если ПометкаУдаления ТОгда
		Возврат;
	КонецЕСли;
	//---АК KIRN 
	
	Если ЗначениеЗаполнено(СтруктурнаяЕдиница) Тогда
		CashName = "ККМ " + Формат(СтруктурнаяЕдиница.НомерТочки, "ЧГ=0") + "." + НомерРабочегоМеста;
		ИД = СтруктурнаяЕдиница.НомерТочки * 10 + НомерРабочегоМеста;
		
		Запрос = Новый Запрос();
		Запрос.Текст = "ВЫБРАТЬ
		               |	РабочиеМеста.Ссылка
		               |ИЗ
		               |	Справочник.РабочиеМеста КАК РабочиеМеста
		               |ГДЕ
		               |	РабочиеМеста.CashName = &CashName
		               |	И РабочиеМеста.Ссылка <> &Ссылка";
					   
		Запрос.УстановитьПараметр("CashName", CashName);
		Запрос.УстановитьПараметр("Ссылка", Ссылка);
		
		Результат = Запрос.Выполнить();
		Если НЕ Результат.Пустой() Тогда
			ОбщегоНазначенияКлиентСервер.СообщитьПользователю("Уже существует элемент с таким номером рабочего места для данной структурной единицы",,,, Отказ);
		КонецЕсли;	
	КонецЕсли;	
		
КонецПроцедуры

Процедура ПриКопировании(ОбъектКопирования)
	
	ВозможнаВидеозапись = Ложь;
	НеПривязыватьТерминалыАвтоматомПоЧекам = Ложь;
	
КонецПроцедуры
