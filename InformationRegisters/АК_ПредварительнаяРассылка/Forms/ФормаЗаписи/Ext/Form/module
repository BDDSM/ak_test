
Процедура ФизическоеЛицоОбработкаВыбора(Элемент, ВыбранноеЗначение, СтандартнаяОбработка)
		

	//Запрос = Новый Запрос;
	//Запрос.Текст = 
	//	"ВЫБРАТЬ первые 1
	//	|	КонтактнаяИнформация.Представление
	//	|ИЗ
	//	|	РегистрСведений.КонтактнаяИнформация КАК КонтактнаяИнформация
	//	|ГДЕ
	//	|	КонтактнаяИнформация.Объект.Наименование = &Наименование";

	//Запрос.УстановитьПараметр("Наименование", ВыбранноеЗначение.Наименование);

	//Результат = Запрос.Выполнить();

	//ВыборкаДетальныеЗаписи = Результат.Выбрать();

	//Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
	//	ЭлектронныйАдрес =ВыборкаДетальныеЗаписи.представление;
	//КонецЦикла;

	//}}КОНСТРУКТОР_ЗАПРОСА_С_ОБРАБОТКОЙ_РЕЗУЛЬТАТА

КонецПроцедуры

Процедура ФизическоеЛицоПриИзменении(Элемент)
		ТекФизЛицо = Элемент.Значение;
		ЭлектронныйАдрес = Неопределено;
		Если ЗначениеЗаполнено(ТекФизЛицо) Тогда 
			
			//Запрос = Новый Запрос;
			//Запрос.УстановитьПараметр("Объект", ТекФизЛицо);			
			//Запрос.Текст = 
			//"ВЫБРАТЬ
			//|	КонтактнаяИнформация.Представление КАК Телефон
			//|ИЗ
			//|	РегистрСведений.КонтактнаяИнформация КАК КонтактнаяИнформация
			//|ГДЕ
			//|	КонтактнаяИнформация.Объект = &Объект
			//|	И КонтактнаяИнформация.Тип = ЗНАЧЕНИЕ(Перечисление.ТипыКонтактнойИнформации.Телефон)
			//|	И КонтактнаяИнформация.Вид = ЗНАЧЕНИЕ(Справочник.ВидыКонтактнойИнформации.ТелефонСлужебный)";
			//ВыборкаДетальныеЗаписи = Запрос.Выполнить().Выбрать();
			//Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
			//	ТекСтрНабора.Телефон = ВыборкаДетальныеЗаписи.Телефон;
			//КонецЦикла;
			Если НЕ ТипЗнч(ТекФизЛицо) = Тип("СправочникСсылка.Контрагенты") тогда 
				Запрос = Новый Запрос;
				Запрос.УстановитьПараметр("Объект", ТекФизЛицо);
				Запрос.Текст = 
				"ВЫБРАТЬ
				|	КонтактнаяИнформация1.Представление КАК Емейл
				|ИЗ
				|	РегистрСведений.КонтактнаяИнформация КАК КонтактнаяИнформация1
				|ГДЕ
				|	КонтактнаяИнформация1.Объект = &Объект
				|	И КонтактнаяИнформация1.Тип = ЗНАЧЕНИЕ(Перечисление.ТипыКонтактнойИнформации.АдресЭлектроннойПочты)
				|	И КонтактнаяИнформация1.Вид = ЗНАЧЕНИЕ(Справочник.ВидыКонтактнойИнформации.EmailФизЛица)";
				ВыборкаДетальныеЗаписи = Запрос.Выполнить().Выбрать();
				Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
					ЭлектронныйАдрес = ВыборкаДетальныеЗаписи.Емейл;
				КонецЦикла;
			Иначе 
				Запрос = Новый Запрос;
				Запрос.УстановитьПараметр("Владелец", ТекФизЛицо);
				Запрос.УстановитьПараметр("РольКонтактногоЛица", Справочники.РолиКонтактныхЛиц.НайтиПоКоду("000000002"));
				Запрос.Текст = 
				"ВЫБРАТЬ
				|	КонтактныеЛицаКонтрагентов.Ссылка КАК КонтактноеЛицо
				|ИЗ
				|	Справочник.КонтактныеЛицаКонтрагентов КАК КонтактныеЛицаКонтрагентов
				|ГДЕ
				|	КонтактныеЛицаКонтрагентов.Владелец = &Владелец
				|	И КонтактныеЛицаКонтрагентов.РольКонтактногоЛица = &РольКонтактногоЛица";
				ВыборкаДетальныеЗаписи = Запрос.Выполнить().Выбрать();
				Пока ВыборкаДетальныеЗаписи.Следующий() цикл
					Запрос = Новый Запрос;
					Запрос.УстановитьПараметр("Объект", ВыборкаДетальныеЗаписи.КонтактноеЛицо);
					Запрос.Текст = 
					"ВЫБРАТЬ
					|	КонтактнаяИнформация1.Представление КАК Емейл
					|ИЗ
					|	РегистрСведений.КонтактнаяИнформация КАК КонтактнаяИнформация1
					|ГДЕ
					|	КонтактнаяИнформация1.Объект = &Объект
					|	И КонтактнаяИнформация1.Тип = ЗНАЧЕНИЕ(Перечисление.ТипыКонтактнойИнформации.АдресЭлектроннойПочты)";
					ВыборкаДетальныеЗаписи = Запрос.Выполнить().Выбрать();
					Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
						ЭлектронныйАдрес = ВыборкаДетальныеЗаписи.Емейл;
					КонецЦикла;
				КонецЦикла;	
			КонецЕсли;						
		КонецЕсли;	
КонецПроцедуры

Процедура ПредварительнаяОтправкаПриИзменении(Элемент)
	//ЧислоПрописью(122,,"День, Дня, Дней, M,,,,,0" )
	   
КонецПроцедуры

Процедура ОбновлениеОтображения()
	
	Если Прав(Строка(ПредварительнаяОтправка),1) = "1" тогда 
		ЭлементыФормы.Надпись1.Заголовок = "день";
	ИначеЕсли Прав(Строка(ПредварительнаяОтправка),1) = 2 или Прав(Строка(ПредварительнаяОтправка),1) = 3 или Прав(Строка(ПредварительнаяОтправка),1) = 4 тогда
		ЭлементыФормы.Надпись1.Заголовок = "дня";
	Иначе
		ЭлементыФормы.Надпись1.Заголовок = "дней";
	КонецЕсли;	
	
КонецПроцедуры
