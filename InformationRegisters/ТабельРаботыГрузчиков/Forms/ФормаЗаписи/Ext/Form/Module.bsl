
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	УправлениеФормой();	
	
КонецПроцедуры

&НаСервере
Процедура УправлениеФормой()
	
	Элементы.СвойствоСотрудника.Видимость = Не ЗначениеЗаполнено(Запись.Отсутствие);
	
КонецПроцедуры

&НаКлиенте
Процедура ОтсутствиеПриИзменении(Элемент)
	
	УправлениеФормой();
	
КонецПроцедуры

&НаСервере
Процедура ПередЗаписьюНаСервере(Отказ, ТекущийОбъект, ПараметрыЗаписи)
	
	//+++АК mika 2018.11.20 ИП-00020498 
	Если ЗначениеЗаполнено(Запись.Сотрудник) И Запись.СвойствоСотрудника > 2 И 
		НЕ ЗначениеЗаполнено(ОбщегоНазначения.ПолучитьЗначениеРеквизита(Запись.Сотрудник, "ТипВахтыВГрафике")) Тогда
		Запись.СвойствоСотрудника  = 0;
		ОбщегоНазначенияКлиентСервер.СообщитьПользователю("Для планирования ""вахтовых"" выходов заполните ""Тип вахты в графике""(карточка физ. лица)!",,,,Отказ);
		Возврат;
	КонецЕсли;                              
	//---АК mika
	
КонецПроцедуры


