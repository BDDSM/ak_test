
//+++АК SHEP 2018.07.02 ИП-00018753.04: храним в "ОбращенияПокупателей"
Функция ПолучитьКаталогХраненияФайлов(ДатаДобавления = Неопределено) Экспорт
	
	Возврат РегистрыСведений.ОбращенияПокупателей.ПолучитьКаталогХраненияФайлов(ДатаДобавления);
	
КонецФункции

//+++АК SHEP 2018.08.06 ИП-00018753.03
Функция СоздатьТЗнПрикреплённыхФайлов() Экспорт
	
	ТЗнПрикреплённыхФайлов = Новый ТаблицаЗначений;
	КолонкиТЗн = ТЗнПрикреплённыхФайлов.Колонки;
	КолонкиТЗн.Добавить("ИмяФайла");
	КолонкиТЗн.Добавить("Идентификатор");
	КолонкиТЗн.Добавить("ДатаДобавления");
	КолонкиТЗн.Добавить("Расширение");
	КолонкиТЗн.Добавить("ЭтоОтветПроизводителя", Новый ОписаниеТипов("Булево"));
	
	Возврат ТЗнПрикреплённыхФайлов;
	
КонецФункции

//+++АК SHEP 2018.08.06 ИП-00018753.03
Функция ВернутьТЗнПрикреплённыхФайлов(ТабФайлов) Экспорт
	
	Если ЗначениеЗаполнено(ТабФайлов) Тогда
		ТЗнФайлов = ЗначениеИзСтрокиВнутр(ТабФайлов);
		Если ТипЗнч(ТЗнФайлов) <> Тип("ТаблицаЗначений") Тогда Возврат Неопределено; КонецЕсли;
		
		КолонкиТЗн = ТЗнФайлов.Колонки;
		Если КолонкиТЗн.Найти("ЭтоОтветПроизводителя") = Неопределено Тогда
			КолонкиТЗн.Добавить("ЭтоОтветПроизводителя", Новый ОписаниеТипов("Булево"));
		КонецЕсли;
	Иначе
		ТЗнФайлов = СоздатьТЗнПрикреплённыхФайлов();
	КонецЕсли;
	
	Возврат ТЗнФайлов;
	
КонецФункции
