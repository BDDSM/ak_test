
Процедура ПередЗаписью(Отказ, Замещение)
	
	//+++АК SHEP 2018.10.15 ИП-00018753.03: записываем поле "Производитель" из обращения покупателя
	Если ЭтотОбъект.ОбменДанными.Загрузка Тогда Возврат; КонецЕсли;
	
	Если ЭтотОбъект.Количество() > 0 Тогда
		
		СтруктураДанныеОтбор = Новый Структура("id_OK,GUID_Загрузки,ДатаДок");
		МенеджерЗаписиОбращенияПокупателей = РегистрыСведений.ОбращенияПокупателей.СоздатьМенеджерЗаписи();
		
		Для Каждого Запись Из ЭтотОбъект Цикл
			
			ЗаполнитьЗначенияСвойств(СтруктураДанныеОтбор, Запись);
			ЗаполнитьЗначенияСвойств(МенеджерЗаписиОбращенияПокупателей, СтруктураДанныеОтбор);
			МенеджерЗаписиОбращенияПокупателей.Прочитать();
			
			Если НЕ МенеджерЗаписиОбращенияПокупателей.Выбран() Тогда Продолжить; КонецЕсли;
			
			Запись.Производитель = МенеджерЗаписиОбращенияПокупателей.Производитель;
			
		КонецЦикла;
		
	КонецЕсли;
	//---АК SHEP 2018.10.15
	
КонецПроцедуры
