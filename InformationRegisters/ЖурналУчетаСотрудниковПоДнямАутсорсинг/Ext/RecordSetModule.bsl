
////////////////////////////////////////////////////////////////////////////////
// ПРОГРАММНЫЙ ИНТЕРФЕЙС

////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ

Процедура ПередЗаписью(Отказ, Замещение)
	
	Если ЭтотОбъект.ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;
	
	Если ЭтотОбъект.ДополнительныеСвойства.Свойство("КонтрольРедактирования") Тогда
		Отказ = РегистрыСведений.ЖурналУчетаСотрудниковПоДнямАутсорсинг.ПроверитьВозможностьРедактированияПеродаПоСотруднику(ЭтотОбъект.Отбор.ДатаПрихода.Значение, ЭтотОбъект.Отбор.Сотрудник.Значение);
	КонецЕсли;
	
КонецПроцедуры

////////////////////////////////////////////////////////////////////////////////
// СЛУЖЕБНЫЕ ПРОЦЕДУРЫ И ФУНКЦИИ

//Дополнительная проверка должности сотрудника перез записью 
//(Должность меняют в карточке сотрудника и ответственный "перезаписывает" необходимые записи)
Процедура ПроверитьАктуальностьДолжностиСотрудника()
	
	Для каждого Запись Из ЭтотОбъект Цикл
		
		ДолжностьСотрудника = Запись.Сотрудник.Должность;
		
		Если Запись.Должность <> ДолжностьСотрудника Тогда
			 Запись.Должность = ДолжностьСотрудника;
		КонецЕсли;
		 
	КонецЦикла;
	
КонецПроцедуры



