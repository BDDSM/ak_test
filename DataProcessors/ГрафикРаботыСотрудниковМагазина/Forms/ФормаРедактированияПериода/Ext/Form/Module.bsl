
&НаКлиенте
Процедура СохранитьИзменения(Команда)
	
	СтруктураВозврата = Новый Структура;
	
	СтруктураВозврата.Вставить("Сотрудник"	, Сотрудник);
	СтруктураВозврата.Вставить("Период"		, Период);
	
	ТЗ = Новый Соответствие;
	//ТЗ.Колонки.Добавить("ТорговаяТочка"	 , Новый ОписаниеТипов("СправочникСсылка.СтруктурныеЕдиницы"));
	//ТЗ.Колонки.Добавить("КоличествоЧасов", Новый ОписаниеТипов("Число"));
	
	Для Каждого Стр Из ТаблицаДанных Цикл
		ТЗ.Вставить(Стр.ТорговаяТочка,Стр.КоличествоЧасов);
	КонецЦикла;
	
	СтруктураВозврата.Вставить("ТаблицаДанных", ТЗ);
	
	Закрыть(СтруктураВозврата);
	
КонецПроцедуры

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если Параметры.Свойство("Сотрудник")Тогда
		Сотрудник = Параметры.Сотрудник;
	КонецЕсли;
	
	Если Параметры.Свойство("Период")Тогда
		Период = Параметры.Период;
	КонецЕсли;
	
	//Если Параметры.Свойство("ТаблицаДанных")Тогда
	//	ТаблицаДанных.Загрузить(Параметры.ТаблицаДанных);	
	//КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытии(Отказ)
	Для каждого Стр Из ВладелецФормы.ТЗ1 Цикл
		НовСтр=ТаблицаДанных.Добавить();
		ЗаполнитьЗначенияСвойств(НовСтр,Стр);
	КонецЦикла; 
КонецПроцедуры
