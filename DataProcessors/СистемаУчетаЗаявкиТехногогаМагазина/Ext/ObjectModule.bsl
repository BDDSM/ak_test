Процедура ОбработатьУчетаЗаявкиТехногогаМагазина(ВыборкаДетальныеЗаписи) Экспорт 

ЗаданиеТехнолога = ВыборкаДетальныеЗаписи.ЗаявкаНаУслугиМатериалы.ПолучитьОбъект();


ИмяФайла = ПолучитьИмяВременногоФайла();
ДвичныеДанные = Справочники.ВнешниеОбработки.НайтиПоКоду("000000115").ХранилищеВнешнейОбработки.Получить();
ДвичныеДанные.Записать(ИмяФайла);
Обработка = ВнешниеОбработки.Создать(ИмяФайла);

Обработка.ОбработатьУчетаЗаявкиТехногогаМагазина(ВыборкаДетальныеЗаписи);
Возврат;

	//|	ЗаявкиОжидаютАкцепт.НеЗакрыватьАвтоматически,
	//|	ЗаявкиОжидаютАкцепт.ПлюсОдинДень,
	//|	ЗаявкиОжидаютАкцепт.ПлюсТриДня,
	//|	ЗаявкиПолученныеАкцепт.НеЗакрыватьАвтоматически КАК НеЗакрыватьАвтоматически1,
	//|	ЗаявкиПолученныеАкцепт.ПлюсОдинДень КАК ПлюсОдинДень1,
	//|	ЗаявкиПолученныеАкцепт.ПлюсТриДня КАК ПлюсТриДня1

	//		ЗаявкаНаПодтвреждение.Утверждено = Истина;

	//		//Ms(
	//ЗапросЗаданиеТехнолога = Новый Запрос;
	//ЗапросЗаданиеТехнолога.Текст =  "ВЫБРАТЬ
	//|	АкцептЗаявок.ЗаявкаНаУслугиМатериалы,
	//|	АкцептЗаявок.НеЗакрыватьАвтоматически,
	//|	АкцептЗаявок.ПлюсОдинДень,
	//|	АкцептЗаявок.ПлюсТриДня
	//|ИЗ
	//|	РегистрСведений.АкцептЗаявок КАК АкцептЗаявок
	//|ГДЕ
	//|	ТИПЗНАЧЕНИЯ(АкцептЗаявок.ЗаявкаНаУслугиМатериалы) = ТИП(Документ.ЗаданиеТехнологаМагазинам)";
	//РезЗаданиеТехнолога = ЗапросЗаданиеТехнолога.Выполнить().Выбрать();
	
	//Пока РезЗаданиеТехнолога.Следующий() Цикл
		
		//ДокументОбъект = Документы.ЗаданиеТехнологаМагазинам.НайтиПоНомеру(РезЗаданиеТехнолога.ЗаявкаНаУслугиМатериалы.Номер);
		//ЗаданиеТехнолога = ДокументОбъект.ПолучитьОбъект();
		
		
		
			//|	ЗаявкиОжидаютАкцепт.НеЗакрыватьАвтоматически,
	//|	ЗаявкиОжидаютАкцепт.ПлюсОдинДень,
	//|	ЗаявкиОжидаютАкцепт.ПлюсТриДня,

		
		
		
		
		Если ВыборкаДетальныеЗаписи.НеЗакрыватьАвтоматически Тогда
			ЗаданиеТехнолога.НеЗакрыватьАвтоматически = Истина;
		ИначеЕсли ВыборкаДетальныеЗаписи.ПлюсОдинДень Тогда
			ЗаданиеТехнолога.ДатаАвтозакрытия = ЗаданиеТехнолога.ДатаАвтозакрытия + 24*60*60;
		ИначеЕсли ВыборкаДетальныеЗаписи.ПлюсТриДня Тогда
			ЗаданиеТехнолога.ДатаАвтозакрытия = ЗаданиеТехнолога.ДатаАвтозакрытия + 72*60*60;
		КонецЕсли;
		
		ЗаданиеТехнолога.Записать(РежимЗаписиДокумента.Проведение);
		
		//Рег = РегистрыСведений.АкцептЗаявок.СоздатьМенеджерЗаписи();
		//ЗаполнитьЗначенияСвойств(Рег,РезЗаданиеТехнолога);
		//Рег.Прочитать();
		//Рег.Удалить();
	//КонецЦикла;
	//Ms)
	
			
			
			КонецПроцедуры