
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	УстановитьПараметрыДинамическогосписка();
	
	УстановитьОтборыДинамическогосписка();
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовСписка

&НаКлиенте
Процедура СписокВыбор(Элемент, ВыбраннаяСтрока, Поле, СтандартнаяОбработка)
	
	СтандартнаяОбработка = Ложь;
	
	Если Элементы.Список.ТекущиеДанные <> Неопределено Тогда
		Закрыть(Элементы.Список.ТекущиеДанные.ФизЛицо);	
	Иначе
	    Закрыть(Неопределено);	
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура Выбрать(Команда)
	
	ТекДанные = Элементы.Список.ТекущиеДанные;
	Закрыть(ТекДанные.ФизЛицо);
	
КонецПроцедуры

&НаКлиенте
Процедура ОтключитьОтбор(Команда)
	
	Элементы.СписокОтключитьОтбор.Доступность = Ложь;
	
	ОчиститьОтборыНаСервере();
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции


&НаСервере
Процедура УстановитьПараметрыДинамическогосписка()
	
	Список.Параметры.УстановитьЗначениеПараметра("ПустаяДата", Дата(1,1,1))
			  
КонецПроцедуры

&НаСервере
Процедура УстановитьОтборыДинамическогосписка()
	
	ГруппаСотрудниковАутсорсинг = ПараметрыСеанса.ТекущийПользователь.ГруппаСотрудниковАутсорсинг;
	
	Если ЗначениеЗаполнено(ПараметрыСеанса.ТекущийПользователь.ГруппаСотрудниковАутсорсинг) Тогда
		
		ЭлементОтбора = Список.Отбор.Элементы.Добавить(Тип("ЭлементОтбораКомпоновкиДанных"));
		
		ЭлементОтбора.ЛевоеЗначение  = Новый ПолеКомпоновкиДанных("ГруппаСотрудников");
		ЭлементОтбора.ВидСравнения   = ВидСравненияКомпоновкиДанных.Равно;
		ЭлементОтбора.ПравоеЗначение = ГруппаСотрудниковАутсорсинг;
		
		ЭлементОтбора.Использование  = Истина;
		
		ЭлементОтбора.РежимОтображения = РежимОтображенияЭлементаНастройкиКомпоновкиДанных.Недоступный;
		
	КонецЕсли;
			  
КонецПроцедуры

&НаСервере
Процедура ОчиститьОтборыНаСервере()
	
	Список.Отбор.Элементы.Очистить();
	
КонецПроцедуры

#КонецОбласти

