
Процедура ВыбратьСертификат(Кнопка)
	
	СписокСертификатовВыбор("", "", "", "");
	
КонецПроцедуры

Процедура СписокСертификатовВыбор(Элемент, ВыбраннаяСтрока, Колонка, СтандартнаяОбработка)
	
	РезультатВыбора = Новый Структура;
	РеквизитыСертификата = Новый Структура;
	
	МассивИменКолонок = Новый Массив;
	
	Для каждого Колонка Из ЭлементыФормы.СписокСертификатов.Колонки Цикл
		МассивИменКолонок.Добавить(Колонка.Имя);
	КонецЦикла;	
	
	ТекущиеДанные = ЭлементыФормы.СписокСертификатов.ТекущиеДанные;
	
	Для Каждого ИмяКолонки Из МассивИменКолонок Цикл
		РеквизитыСертификата.Вставить(ИмяКолонки, ТекущиеДанные[ИмяКолонки]);	
	КонецЦикла;
	
	РезультатВыбора = Новый Структура;
	РезультатВыбора.Вставить("Действие",   				"ВыборСертификата");
	РезультатВыбора.Вставить("Организация",   			ВыборДляОрганизации);
	РезультатВыбора.Вставить("СертификатДействуетПо",   РеквизитыСертификата.ОкончаниеПериодаДействия);
	РезультатВыбора.Вставить("РеквизитыСертификата",	РеквизитыСертификата);
	РезультатВыбора.Вставить("Отпечаток",   			ТекущиеДанные.Отпечаток);
	РезультатВыбора.Вставить("ЗапомнитьВыбор",			ЗапомнитьВыбор);
	
	Этаформа.Закрыть(РезультатВыбора);

КонецПроцедуры

Процедура ПриОткрытии()
	
	Если ЗначениеЗаполнено(ВыборДляОрганизации) Тогда 
		
		ЭтаФорма.Заголовок = "Выберите сертификат для организации """ + ВыборДляОрганизации + """";
		
	КонецЕсли;
	
	ПриОткрытииФормы(ЭтаФорма);
	
КонецПроцедуры
