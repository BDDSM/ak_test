<?xml version="1.0" encoding="UTF-8"?>
<DataCompositionSchema xmlns="http://v8.1c.ru/8.1/data-composition-system/schema" xmlns:dcscom="http://v8.1c.ru/8.1/data-composition-system/common" xmlns:dcscor="http://v8.1c.ru/8.1/data-composition-system/core" xmlns:dcsset="http://v8.1c.ru/8.1/data-composition-system/settings" xmlns:v8="http://v8.1c.ru/8.1/data/core" xmlns:v8ui="http://v8.1c.ru/8.1/data/ui" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<dataSource>
		<name>ИсточникДанных1</name>
		<dataSourceType>Local</dataSourceType>
	</dataSource>
	<dataSet xsi:type="DataSetQuery">
		<name>ДанныеПоДокументам</name>
		<field xsi:type="DataSetFieldField">
			<dataPath>Контрагент</dataPath>
			<field>Контрагент</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Организация</dataPath>
			<field>Организация</field>
			<useRestriction>
				<order>true</order>
			</useRestriction>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДокументПТУ</dataPath>
			<field>ДокументПТУ</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Документ ПТУ</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Документ</dataPath>
			<field>Документ</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Документ</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПартияОрганизация</dataPath>
			<field>ПартияОрганизация</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПартияКонтрагент</dataPath>
			<field>ПартияКонтрагент</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ВидДокумента</dataPath>
			<field>ВидДокумента</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Вид документа</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>НомерДокумента</dataPath>
			<field>НомерДокумента</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Номер документа</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДатаДокумента</dataPath>
			<field>ДатаДокумента</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Дата документа</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>НомерСФ_Фин</dataPath>
			<field>НомерСФ_Фин</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Номер с ф фин</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДатаСФ_Фин</dataPath>
			<field>ДатаСФ_Фин</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Дата с ф фин</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Сумма_Фин</dataPath>
			<field>Сумма_Фин</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Сумма фин</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СуммаНДС_Фин</dataPath>
			<field>СуммаНДС_Фин</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Сумма НДС фин</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДатаСФ_Испр_Фин</dataPath>
			<field>ДатаСФ_Испр_Фин</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Дата с ф испр фин</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>НомерСФ_Испр_Фин</dataPath>
			<field>НомерСФ_Испр_Фин</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Номер с ф испр фин</v8:content>
				</v8:item>
			</title>
		</field>
		<dataSource>ИсточникДанных1</dataSource>
		<query>ВЫБРАТЬ
	КорректировкаПоступленияТовары.Ссылка.ДокументПоступления,
	КорректировкаПоступленияТовары.Ссылка,
	СУММА(КорректировкаПоступленияТовары.СуммаНДС - КорректировкаПоступленияТовары.СуммаНДСДоИзменения) КАК СуммаНДС,
	СУММА(КорректировкаПоступленияТовары.Сумма - КорректировкаПоступленияТовары.СуммаДоИзменения) КАК Сумма
ПОМЕСТИТЬ ВТ_КорректировкаПредв
ИЗ
	Документ.КорректировкаПоступления.Товары КАК КорректировкаПоступленияТовары
ГДЕ
	КорректировкаПоступленияТовары.Ссылка.ДокументПоступления.Дата МЕЖДУ &amp;ДатаНач И &amp;ДатаКон
	И &amp;ТипОтчета = "Покупки"

СГРУППИРОВАТЬ ПО
	КорректировкаПоступленияТовары.Ссылка,
	КорректировкаПоступленияТовары.Ссылка.ДокументПоступления

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	КорректировкаПоступленияТовары.Ссылка.ДокументПоступления,
	КорректировкаПоступленияТовары.Ссылка,
	СУММА(КорректировкаПоступленияТовары.СуммаНДС - КорректировкаПоступленияТовары.СуммаНДСДоИзменения),
	СУММА(КорректировкаПоступленияТовары.Сумма - КорректировкаПоступленияТовары.СуммаДоИзменения)
ИЗ
	Документ.КорректировкаПоступления.Услуги КАК КорректировкаПоступленияТовары
ГДЕ
	КорректировкаПоступленияТовары.Ссылка.ДокументПоступления.Дата МЕЖДУ &amp;ДатаНач И &amp;ДатаКон
	И &amp;ТипОтчета = "Покупки"

СГРУППИРОВАТЬ ПО
	КорректировкаПоступленияТовары.Ссылка,
	КорректировкаПоступленияТовары.Ссылка.ДокументПоступления

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	КорректировкаПоступленияТовары.Ссылка.ДокументПоступления,
	КорректировкаПоступленияТовары.Ссылка,
	СУММА(КорректировкаПоступленияТовары.СуммаНДС - КорректировкаПоступленияТовары.СуммаНДСДоИзменения),
	СУММА(КорректировкаПоступленияТовары.Сумма - КорректировкаПоступленияТовары.СуммаДоИзменения)
ИЗ
	Документ.КорректировкаПоступления.Оборудование КАК КорректировкаПоступленияТовары
ГДЕ
	КорректировкаПоступленияТовары.Ссылка.ДокументПоступления.Дата МЕЖДУ &amp;ДатаНач И &amp;ДатаКон
	И &amp;ТипОтчета = "Покупки"

СГРУППИРОВАТЬ ПО
	КорректировкаПоступленияТовары.Ссылка,
	КорректировкаПоступленияТовары.Ссылка.ДокументПоступления
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВТ_КорректировкаПредв.ДокументПоступления КАК ДокументПТУ,
	ВТ_КорректировкаПредв.Ссылка КАК Документ,
	ВТ_КорректировкаПредв.Ссылка.Номер КАК НомерДокумента,
	НАЧАЛОПЕРИОДА(ВТ_КорректировкаПредв.Ссылка.Дата, ДЕНЬ) КАК ДатаДокумента,
	СУММА(ВТ_КорректировкаПредв.СуммаНДС) КАК СуммаНДС,
	СУММА(ВТ_КорректировкаПредв.Сумма) КАК СуммаДокумента,
	ВТ_КорректировкаПредв.ДокументПоступления.Контрагент,
	ВТ_КорректировкаПредв.ДокументПоступления.Организация,
	"КОРР" КАК ВидДокумента,
	ВЫБОР
		КОГДА ВТ_КорректировкаПредв.Ссылка.НомерКорректировочнойСчетФактуры = ""
			ТОГДА ВТ_КорректировкаПредв.Ссылка.НомерВходящегоДокумента
		ИНАЧЕ ВТ_КорректировкаПредв.Ссылка.НомерКорректировочнойСчетФактуры
	КОНЕЦ КАК НомерВходящегоСчетаФактуры,
	ВЫБОР
		КОГДА ВТ_КорректировкаПредв.Ссылка.ДатаКорректировочнойСчетФактуры = ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
			ТОГДА ВТ_КорректировкаПредв.Ссылка.ДатаВходящегоДокумента
		ИНАЧЕ ВТ_КорректировкаПредв.Ссылка.ДатаКорректировочнойСчетФактуры
	КОНЕЦ КАК ДатаВходящегоСчетаФактуры
ПОМЕСТИТЬ ВТ_Корректировка
ИЗ
	ВТ_КорректировкаПредв КАК ВТ_КорректировкаПредв

СГРУППИРОВАТЬ ПО
	ВТ_КорректировкаПредв.ДокументПоступления,
	ВТ_КорректировкаПредв.Ссылка,
	ВТ_КорректировкаПредв.Ссылка.Номер,
	ВТ_КорректировкаПредв.ДокументПоступления.Контрагент,
	ВТ_КорректировкаПредв.ДокументПоступления.Организация,
	НАЧАЛОПЕРИОДА(ВТ_КорректировкаПредв.Ссылка.Дата, ДЕНЬ),
	ВЫБОР
		КОГДА ВТ_КорректировкаПредв.Ссылка.НомерКорректировочнойСчетФактуры = ""
			ТОГДА ВТ_КорректировкаПредв.Ссылка.НомерВходящегоДокумента
		ИНАЧЕ ВТ_КорректировкаПредв.Ссылка.НомерКорректировочнойСчетФактуры
	КОНЕЦ,
	ВЫБОР
		КОГДА ВТ_КорректировкаПредв.Ссылка.ДатаКорректировочнойСчетФактуры = ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
			ТОГДА ВТ_КорректировкаПредв.Ссылка.ДатаВходящегоДокумента
		ИНАЧЕ ВТ_КорректировкаПредв.Ссылка.ДатаКорректировочнойСчетФактуры
	КОНЕЦ
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	СчетФактураПолученный.ДокументОснование,
	МАКСИМУМ(СчетФактураПолученный.Дата) КАК ДатаВнешнейСФ,
	МАКСИМУМ(СчетФактураПолученный.НомерВходящегоДокумента) КАК НомерВходящегоДокумента,
	МАКСИМУМ(СчетФактураПолученный.ДатаВходящегоДокумента) КАК ДатаВходящегоДокумента,
	МАКСИМУМ(СчетФактураПолученный.НомерИсправления) КАК НомерИсправления,
	МАКСИМУМ(СчетФактураПолученный.ДатаИсправления) КАК ДатаИсправления
ПОМЕСТИТЬ ВТ_ВНШЕНИЙ_СФ
ИЗ
	Документ.СчетФактураПолученный КАК СчетФактураПолученный
ГДЕ
	СчетФактураПолученный.ПометкаУдаления = ЛОЖЬ
	И &amp;ТипОтчета = "Покупки"

СГРУППИРОВАТЬ ПО
	СчетФактураПолученный.ДокументОснование
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ПоступлениеТоваровУслугТовары.Ссылка,
	ПоступлениеТоваровУслугТовары.СуммаНДС
ПОМЕСТИТЬ ВТ_НДС
ИЗ
	Документ.ПоступлениеТоваровУслуг.Товары КАК ПоступлениеТоваровУслугТовары
ГДЕ
	&amp;ТипОтчета = "Покупки"

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ПоступлениеТоваровУслугУслуги.Ссылка,
	ПоступлениеТоваровУслугУслуги.СуммаНДС
ИЗ
	Документ.ПоступлениеТоваровУслуг.Услуги КАК ПоступлениеТоваровУслугУслуги
ГДЕ
	&amp;ТипОтчета = "Покупки"

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ПоступлениеТоваровУслугОборудование.Ссылка,
	ПоступлениеТоваровУслугОборудование.СуммаНДС
ИЗ
	Документ.ПоступлениеТоваровУслуг.Оборудование КАК ПоступлениеТоваровУслугОборудование
ГДЕ
	&amp;ТипОтчета = "Покупки"

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	РеализацияТоваровУслугТовары.Ссылка,
	РеализацияТоваровУслугТовары.СуммаНДС
ИЗ
	Документ.РеализацияТоваровУслуг.Товары КАК РеализацияТоваровУслугТовары
ГДЕ
	&amp;ТипОтчета = "Продажи"

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	РеализацияТоваровУслугУслуги.Ссылка,
	РеализацияТоваровУслугУслуги.СуммаНДС
ИЗ
	Документ.РеализацияТоваровУслуг.Услуги КАК РеализацияТоваровУслугУслуги
ГДЕ
	&amp;ТипОтчета = "Продажи"
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВТ_НДС.Ссылка,
	СУММА(ВТ_НДС.СуммаНДС) КАК СуммаНДС
ПОМЕСТИТЬ ВТ_СуммаНДС
ИЗ
	ВТ_НДС КАК ВТ_НДС

СГРУППИРОВАТЬ ПО
	ВТ_НДС.Ссылка
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ПоступлениеТоваровУслуг.Ссылка КАК Документ,
	ПоступлениеТоваровУслуг.Номер КАК НомерДокумента,
	НАЧАЛОПЕРИОДА(ПоступлениеТоваровУслуг.Дата, ДЕНЬ) КАК ДатаДокумента,
	ПоступлениеТоваровУслуг.Ссылка КАК ДокументПТУ,
	ПоступлениеТоваровУслуг.СуммаДокумента,
	ЕСТЬNULL(ВТ_СуммаНДС.СуммаНДС, 0) КАК СуммаНДС,
	ПоступлениеТоваровУслуг.Контрагент,
	ПоступлениеТоваровУслуг.Организация,
	"ПТУ" КАК ВидДокумента,
	ВЫБОР
		КОГДА ПоступлениеТоваровУслуг.НомерВходящегоСчетаФактуры = ""
			ТОГДА ПоступлениеТоваровУслуг.НомерВходящегоДокумента
		ИНАЧЕ ПоступлениеТоваровУслуг.НомерВходящегоСчетаФактуры
	КОНЕЦ КАК НомерВходящегоСчетаФактуры,
	ВЫБОР
		КОГДА ПоступлениеТоваровУслуг.ДатаВходящегоСчетаФактуры = ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
			ТОГДА ПоступлениеТоваровУслуг.ДатаВходящегоДокумента
		ИНАЧЕ ПоступлениеТоваровУслуг.ДатаВходящегоСчетаФактуры
	КОНЕЦ КАК ДатаВходящегоСчетаФактуры
ПОМЕСТИТЬ ВТ_ПредвДанныеПТУ
ИЗ
	Документ.ПоступлениеТоваровУслуг КАК ПоступлениеТоваровУслуг
		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_СуммаНДС КАК ВТ_СуммаНДС
		ПО ПоступлениеТоваровУслуг.Ссылка = ВТ_СуммаНДС.Ссылка
ГДЕ
	&amp;ТипОтчета = "Покупки"
{ГДЕ
	ПоступлениеТоваровУслуг.Контрагент.*,
	ПоступлениеТоваровУслуг.Организация.*}

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ПоступлениеДопРасходов.Ссылка,
	ПоступлениеДопРасходов.Ссылка.Номер,
	НАЧАЛОПЕРИОДА(ПоступлениеДопРасходов.Ссылка.Дата, ДЕНЬ),
	ВЫБОР
		КОГДА ПоступлениеДопРасходов.Партия.Ссылка ЕСТЬ НЕ NULL 
			ТОГДА ВЫБОР
					КОГДА ПоступлениеДопРасходов.Партия.Контрагент = ПоступлениеДопРасходов.Ссылка.Контрагент
						ТОГДА ПоступлениеДопРасходов.Партия
					ИНАЧЕ ПоступлениеДопРасходов.Ссылка
				КОНЕЦ
		ИНАЧЕ ПоступлениеДопРасходов.Ссылка
	КОНЕЦ,
	ВЫБОР
		КОГДА ПоступлениеДопРасходов.Партия.Ссылка ЕСТЬ НЕ NULL 
			ТОГДА ВЫБОР
					КОГДА ПоступлениеДопРасходов.Ссылка.ВариантРасчетаНДС = ЗНАЧЕНИЕ(Перечисление.ВариантыРасчетаНДС.НДСсверху)
						ТОГДА ПоступлениеДопРасходов.СуммаРаспределено
					ИНАЧЕ ПоступлениеДопРасходов.СуммаРаспределено + ПоступлениеДопРасходов.СуммаНДСРаспределено
				КОНЕЦ
		ИНАЧЕ ВЫБОР
				КОГДА ПоступлениеДопРасходов.Ссылка.ВариантРасчетаНДС = ЗНАЧЕНИЕ(Перечисление.ВариантыРасчетаНДС.НДСсверху)
					ТОГДА ПоступлениеДопРасходов.СуммаРаспределено + ПоступлениеДопРасходов.Сумма + ПоступлениеДопРасходов.СуммаНДСРаспределено + ПоступлениеДопРасходов.СуммаНДС
				ИНАЧЕ ПоступлениеДопРасходов.СуммаРаспределено + ПоступлениеДопРасходов.Сумма
			КОНЕЦ
	КОНЕЦ,
	ВЫБОР
		КОГДА ПоступлениеДопРасходов.Партия.Ссылка ЕСТЬ НЕ NULL 
			ТОГДА ПоступлениеДопРасходов.СуммаНДСРаспределено
		ИНАЧЕ ПоступлениеДопРасходов.СуммаНДСРаспределено + ПоступлениеДопРасходов.СуммаНДС
	КОНЕЦ,
	ПоступлениеДопРасходов.Ссылка.Контрагент,
	ПоступлениеДопРасходов.Ссылка.Организация,
	"ПДР",
	ВЫБОР
		КОГДА ПоступлениеДопРасходов.Ссылка.НомерВходящегоСчетаФактуры = ""
			ТОГДА ПоступлениеДопРасходов.Ссылка.НомерВходящегоДокумента
		ИНАЧЕ ПоступлениеДопРасходов.Ссылка.НомерВходящегоСчетаФактуры
	КОНЕЦ,
	ВЫБОР
		КОГДА ПоступлениеДопРасходов.Ссылка.ДатаВходящегоСчетаФактуры = ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
			ТОГДА ПоступлениеДопРасходов.Ссылка.ДатаВходящегоДокумента
		ИНАЧЕ ПоступлениеДопРасходов.Ссылка.ДатаВходящегоСчетаФактуры
	КОНЕЦ
ИЗ
	Документ.ПоступлениеДопРасходов.Товары КАК ПоступлениеДопРасходов
ГДЕ
	&amp;ТипОтчета = "Покупки"
{ГДЕ
	ПоступлениеДопРасходов.Партия.Контрагент.*,
	ПоступлениеДопРасходов.Партия.Организация.*}

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ВТ_Корректировка.Документ,
	ВТ_Корректировка.НомерДокумента,
	ВТ_Корректировка.ДатаДокумента,
	ВТ_Корректировка.ДокументПТУ,
	ВТ_Корректировка.СуммаДокумента,
	ВТ_Корректировка.СуммаНДС,
	ВТ_Корректировка.ДокументПоступленияКонтрагент,
	ВТ_Корректировка.ДокументПоступленияОрганизация,
	ВТ_Корректировка.ВидДокумента,
	ВТ_Корректировка.НомерВходящегоСчетаФактуры,
	ВТ_Корректировка.ДатаВходящегоСчетаФактуры
ИЗ
	ВТ_Корректировка КАК ВТ_Корректировка
ГДЕ
	&amp;ТипОтчета = "Покупки"

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	РеализацияТоваровУслуг.Ссылка,
	РеализацияТоваровУслуг.Номер,
	НАЧАЛОПЕРИОДА(РеализацияТоваровУслуг.Дата, ДЕНЬ),
	РеализацияТоваровУслуг.Ссылка,
	РеализацияТоваровУслуг.СуммаДокумента,
	ЕСТЬNULL(ВТ_СуммаНДС.СуммаНДС, 0),
	РеализацияТоваровУслуг.Контрагент,
	РеализацияТоваровУслуг.Организация,
	"ПТУ",
	ВЫБОР
		КОГДА РеализацияТоваровУслуг.НомерИсходящегоСчетаФактуры = ""
			ТОГДА РеализацияТоваровУслуг.НомерИсходящегоДокумента
		ИНАЧЕ РеализацияТоваровУслуг.НомерИсходящегоСчетаФактуры
	КОНЕЦ,
	ВЫБОР
		КОГДА РеализацияТоваровУслуг.ДатаИсходящегоСчетаФактуры = ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0)
			ТОГДА РеализацияТоваровУслуг.ДатаИсходящегоДокумента
		ИНАЧЕ РеализацияТоваровУслуг.ДатаИсходящегоСчетаФактуры
	КОНЕЦ
ИЗ
	Документ.РеализацияТоваровУслуг КАК РеализацияТоваровУслуг
		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_СуммаНДС КАК ВТ_СуммаНДС
		ПО РеализацияТоваровУслуг.Ссылка = ВТ_СуммаНДС.Ссылка
ГДЕ
	&amp;ТипОтчета = "Продажи"
{ГДЕ
	РеализацияТоваровУслуг.Контрагент.*,
	РеализацияТоваровУслуг.Организация.*}
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВТ_ПредвДанные.Документ,
	ВТ_ПредвДанные.ДокументПТУ,
	ВТ_ПредвДанные.Контрагент,
	ВТ_ПредвДанные.Организация,
	ВТ_ПредвДанные.ВидДокумента,
	СУММА(ВТ_ПредвДанные.СуммаДокумента) КАК Сумма_Фин,
	СУММА(ВТ_ПредвДанные.СуммаНДС) КАК СуммаНДС_Фин,
	ВТ_ПредвДанные.НомерДокумента,
	ВТ_ПредвДанные.ДатаДокумента,
	ЕСТЬNULL(ВТ_ВНШЕНИЙ_СФ.НомерВходящегоДокумента, ВТ_ПредвДанные.НомерВходящегоСчетаФактуры) КАК НомерСФ_Фин,
	ЕСТЬNULL(ВТ_ВНШЕНИЙ_СФ.ДатаВходящегоДокумента, ВТ_ПредвДанные.ДатаВходящегоСчетаФактуры) КАК ДатаСФ_Фин,
	ВЫБОР
		КОГДА ЕСТЬNULL(ВТ_ВНШЕНИЙ_СФ.НомерИсправления, "") = 0
			ТОГДА ""
		ИНАЧЕ ЕСТЬNULL(ВТ_ВНШЕНИЙ_СФ.НомерИсправления, "")
	КОНЕЦ КАК НомерСФ_Испр_Фин,
	ЕСТЬNULL(ВТ_ВНШЕНИЙ_СФ.ДатаИсправления, ДАТАВРЕМЯ(1, 1, 1)) КАК ДатаСФ_Испр_Фин
ИЗ
	ВТ_ПредвДанныеПТУ КАК ВТ_ПредвДанные
		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_ВНШЕНИЙ_СФ КАК ВТ_ВНШЕНИЙ_СФ
		ПО ВТ_ПредвДанные.Документ = ВТ_ВНШЕНИЙ_СФ.ДокументОснование
ГДЕ
	ВТ_ПредвДанные.Документ.Проведен = ИСТИНА
	И ВТ_ПредвДанные.ДокументПТУ.Проведен = ИСТИНА
	И ЕСТЬNULL(ВТ_ВНШЕНИЙ_СФ.ДатаВнешнейСФ, ВТ_ПредвДанные.ДатаДокумента) МЕЖДУ &amp;ДатаНач И &amp;ДатаКон

СГРУППИРОВАТЬ ПО
	ВТ_ПредвДанные.Документ,
	ВТ_ПредвДанные.ДокументПТУ,
	ВТ_ПредвДанные.Контрагент,
	ВТ_ПредвДанные.Организация,
	ВТ_ПредвДанные.ВидДокумента,
	ВТ_ПредвДанные.НомерДокумента,
	ВТ_ПредвДанные.ДатаДокумента,
	ЕСТЬNULL(ВТ_ВНШЕНИЙ_СФ.НомерВходящегоДокумента, ВТ_ПредвДанные.НомерВходящегоСчетаФактуры),
	ЕСТЬNULL(ВТ_ВНШЕНИЙ_СФ.ДатаВходящегоДокумента, ВТ_ПредвДанные.ДатаВходящегоСчетаФактуры),
	ВЫБОР
		КОГДА ЕСТЬNULL(ВТ_ВНШЕНИЙ_СФ.НомерИсправления, "") = 0
			ТОГДА ""
		ИНАЧЕ ЕСТЬNULL(ВТ_ВНШЕНИЙ_СФ.НомерИсправления, "")
	КОНЕЦ,
	ЕСТЬNULL(ВТ_ВНШЕНИЙ_СФ.ДатаИсправления, ДАТАВРЕМЯ(1, 1, 1))</query>
	</dataSet>
	<dataSet xsi:type="DataSetObject">
		<name>ВнешниеДанныеБП</name>
		<field xsi:type="DataSetFieldField">
			<dataPath>НомерДокумента</dataPath>
			<field>НомерДокумента</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Номер документа</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДатаДокумента</dataPath>
			<field>ДатаДокумента</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Дата документа</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ВидДокумента</dataPath>
			<field>ВидДокумента</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Вид документа</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>НомерСФ_БП</dataPath>
			<field>НомерСФ</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>НомерСФ</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДатаСФ_БП</dataPath>
			<field>ДатаСФ</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>ДатаСФ</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Сумма_БП</dataPath>
			<field>Сумма</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Сумма</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СуммаНДС_БП</dataPath>
			<field>СуммаНДС</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Сумма НДС </v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>НомерСФ_Испр_БП</dataPath>
			<field>НомерСФ_Испр</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Испр.</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДатаСФ_Испр_БП</dataPath>
			<field>ДатаСФ_Испр</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>от</v8:content>
				</v8:item>
			</title>
		</field>
		<dataSource>ИсточникДанных1</dataSource>
		<objectName>ТЗ_ДанныеБухгалтерии</objectName>
	</dataSet>
	<dataSet xsi:type="DataSetQuery">
		<name>ДанныеРаспознавания</name>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДокументЭДО_ТОРГ</dataPath>
			<field>ДокументЭДО_ТОРГ</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Документ ЭДО ТОРГ</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ЕстьОшибкиСФ</dataPath>
			<field>ЕстьОшибкиСФ</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Есть ошибки СФ</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ЕстьОшибкиТОРГ12</dataPath>
			<field>ЕстьОшибкиТОРГ12</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Есть ошибки ТОРГ12</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>РезультатСравненияТОРГ_С_РаспознаннымФайлом</dataPath>
			<field>РезультатСравненияТОРГ_С_РаспознаннымФайлом</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ЕстьОшибкиРаспТОРГ12</dataPath>
			<field>ЕстьОшибкиРаспТОРГ12</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>РезультатСравненияСФ</dataPath>
			<field>РезультатСравненияСФ</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Результат сравнения СФ</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПодтвержденоОператоромСФ</dataPath>
			<field>ПодтвержденоОператоромСФ</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПодтвержденоОтветственнымПоНДСТОРГ12</dataPath>
			<field>ПодтвержденоОтветственнымПоНДСТОРГ12</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Документ</dataPath>
			<field>Документ</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПодтвержденоОтветственнымПоНДССФ</dataPath>
			<field>ПодтвержденоОтветственнымПоНДССФ</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>РезультатСравненияТОРГ12</dataPath>
			<field>РезультатСравненияТОРГ12</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Результат сравнения ТОРГ12</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>РезультатСравненияСФ_С_РаспознаннымФайлом</dataPath>
			<field>РезультатСравненияСФ_С_РаспознаннымФайлом</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ЕстьОшибкиРаспСФ</dataPath>
			<field>ЕстьОшибкиРаспСФ</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ПодтвержденоОператоромТОРГ12</dataPath>
			<field>ПодтвержденоОператоромТОРГ12</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ФайлТОРГ12</dataPath>
			<field>ФайлТОРГ12</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ФайлСФ</dataPath>
			<field>ФайлСФ</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДокументЭДО_СФ</dataPath>
			<field>ДокументЭДО_СФ</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Документ ЭДО СФ</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ЭтоЭДО</dataPath>
			<field>ЭтоЭДО</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Это ЭДО</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>РаспФайлСФ</dataPath>
			<field>РаспФайлСФ</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Расп файл СФ</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>РаспФайлТОРГ</dataPath>
			<field>РаспФайлТОРГ</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Расп файл ТОРГ</v8:content>
				</v8:item>
			</title>
		</field>
		<dataSource>ИсточникДанных1</dataSource>
		<query>ВЫБРАТЬ
	ПоступлениеТоваровУслуг.Ссылка КАК Документ,
	ВЫБОР
		КОГДА ПоступлениеТоваровУслуг.УПД &lt;&gt; ЗНАЧЕНИЕ(Справочник.Файлы.ПустаяСсылка)
			ТОГДА ПоступлениеТоваровУслуг.УПД
		КОГДА ПоступлениеТоваровУслуг.СчетФактура &lt;&gt; ЗНАЧЕНИЕ(Справочник.Файлы.ПустаяСсылка)
			ТОГДА ПоступлениеТоваровУслуг.СчетФактура
		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.Файлы.ПустаяСсылка)
	КОНЕЦ КАК ФайлСФ,
	ВЫБОР
		КОГДА ПоступлениеТоваровУслуг.УПД &lt;&gt; ЗНАЧЕНИЕ(Справочник.Файлы.ПустаяСсылка)
			ТОГДА ПоступлениеТоваровУслуг.УПД
		КОГДА ПоступлениеТоваровУслуг.Акт &lt;&gt; ЗНАЧЕНИЕ(Справочник.Файлы.ПустаяСсылка)
			ТОГДА ПоступлениеТоваровУслуг.Акт
		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.Файлы.ПустаяСсылка)
	КОНЕЦ КАК ФайлТОРГ12
ПОМЕСТИТЬ ВТ_ДанныеДокумента
ИЗ
	Документ.ПоступлениеТоваровУслуг КАК ПоступлениеТоваровУслуг
//ГДЕ
//	ПоступлениеТоваровУслуг.Дата МЕЖДУ &amp;ДатаНач И &amp;ДатаКон

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ПДР.Ссылка,
	ВЫБОР
		КОГДА ПДР.УПД &lt;&gt; ЗНАЧЕНИЕ(Справочник.Файлы.ПустаяСсылка)
			ТОГДА ПДР.УПД
		КОГДА ПДР.СчетФактура &lt;&gt; ЗНАЧЕНИЕ(Справочник.Файлы.ПустаяСсылка)
			ТОГДА ПДР.СчетФактура
		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.Файлы.ПустаяСсылка)
	КОНЕЦ,
	ВЫБОР
		КОГДА ПДР.УПД &lt;&gt; ЗНАЧЕНИЕ(Справочник.Файлы.ПустаяСсылка)
			ТОГДА ПДР.УПД
		КОГДА ПДР.Акт &lt;&gt; ЗНАЧЕНИЕ(Справочник.Файлы.ПустаяСсылка)
			ТОГДА ПДР.Акт
		ИНАЧЕ ЗНАЧЕНИЕ(Справочник.Файлы.ПустаяСсылка)
	КОНЕЦ
ИЗ
	Документ.ПоступлениеДопРасходов КАК ПДР
//ГДЕ
//	ПДР.Дата МЕЖДУ &amp;ДатаНач И &amp;ДатаКон

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	КПТУ.Ссылка,
	ЗНАЧЕНИЕ(Справочник.Файлы.ПустаяСсылка),
	ЗНАЧЕНИЕ(Справочник.Файлы.ПустаяСсылка)
ИЗ
	Документ.КорректировкаПоступления КАК КПТУ
ГДЕ
	КПТУ.ДокументПоступления.Дата МЕЖДУ &amp;ДатаНач И &amp;ДатаКон	

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	РТУ.Ссылка,
	ЗНАЧЕНИЕ(Справочник.Файлы.ПустаяСсылка),
	ЗНАЧЕНИЕ(Справочник.Файлы.ПустаяСсылка)
ИЗ
	Документ.РеализацияТоваровУслуг КАК РТУ
ГДЕ
	РТУ.Дата МЕЖДУ &amp;ДатаНач И &amp;ДатаКон
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ЭДО_СопоставлениеДокументов.Документ,
	МАКСИМУМ(ВЫБОР
			КОГДА ЭДО_СопоставлениеДокументов.ВидДокумента = ЗНАЧЕНИЕ(Перечисление.ЭДО_ТипыДокументов.СчетФактура)
					ИЛИ ЭДО_СопоставлениеДокументов.ВидДокумента = ЗНАЧЕНИЕ(Перечисление.ЭДО_ТипыДокументов.УПД)
				ТОГДА ЭДО_СопоставлениеДокументов.ДокументЭДО
			ИНАЧЕ ЗНАЧЕНИЕ(Документ.ЭДО_ВходящийДокумент.ПустаяСсылка)
		КОНЕЦ) КАК ДокументЭДО_СФ,
	МАКСИМУМ(ВЫБОР
			КОГДА ЭДО_СопоставлениеДокументов.ВидДокумента = ЗНАЧЕНИЕ(Перечисление.ЭДО_ТипыДокументов.ТоварнаяНакладная)
					ИЛИ ЭДО_СопоставлениеДокументов.ВидДокумента = ЗНАЧЕНИЕ(Перечисление.ЭДО_ТипыДокументов.УПД)
					ИЛИ ЭДО_СопоставлениеДокументов.ВидДокумента = ЗНАЧЕНИЕ(Перечисление.ЭДО_ТипыДокументов.АктВыполненныхРабот)
				ТОГДА ЭДО_СопоставлениеДокументов.ДокументЭДО
			ИНАЧЕ ЗНАЧЕНИЕ(Документ.ЭДО_ВходящийДокумент.ПустаяСсылка)
		КОНЕЦ) КАК ДокументЭДО_ТОРГ,
	МАКСИМУМ(ВЫБОР
			КОГДА ЭДО_СопоставлениеДокументов.ВидДокумента = ЗНАЧЕНИЕ(Перечисление.ЭДО_ТипыДокументов.СчетФактура)
					ИЛИ ЭДО_СопоставлениеДокументов.ВидДокумента = ЗНАЧЕНИЕ(Перечисление.ЭДО_ТипыДокументов.УПД)
				ТОГДА ЭДО_СопоставлениеДокументов.ДокументЭДО.ФайлPDF
			ИНАЧЕ ЗНАЧЕНИЕ(Справочник.Файлы.ПустаяСсылкА)
		КОНЕЦ) КАК ФайлСФ,
	МАКСИМУМ(ВЫБОР
			КОГДА ЭДО_СопоставлениеДокументов.ВидДокумента = ЗНАЧЕНИЕ(Перечисление.ЭДО_ТипыДокументов.СчетФактура)
					ИЛИ ЭДО_СопоставлениеДокументов.ВидДокумента = ЗНАЧЕНИЕ(Перечисление.ЭДО_ТипыДокументов.УПД)
				ТОГДА ЭДО_СопоставлениеДокументов.ПодтверженоОператором
			ИНАЧЕ ЛОЖЬ
		КОНЕЦ) КАК ПодтвержденоОператоромСФ,
	МАКСИМУМ(ВЫБОР
			КОГДА ЭДО_СопоставлениеДокументов.ВидДокумента = ЗНАЧЕНИЕ(Перечисление.ЭДО_ТипыДокументов.СчетФактура)
					ИЛИ ЭДО_СопоставлениеДокументов.ВидДокумента = ЗНАЧЕНИЕ(Перечисление.ЭДО_ТипыДокументов.УПД)
				ТОГДА ЭДО_СопоставлениеДокументов.ПодтвержденоОтветственным
			ИНАЧЕ ЛОЖЬ
		КОНЕЦ) КАК ПодтвержденоОтветственнымПоНДССФ,
	МАКСИМУМ(ВЫБОР
			КОГДА ЭДО_СопоставлениеДокументов.ВидДокумента = ЗНАЧЕНИЕ(Перечисление.ЭДО_ТипыДокументов.ТоварнаяНакладная)
					ИЛИ ЭДО_СопоставлениеДокументов.ВидДокумента = ЗНАЧЕНИЕ(Перечисление.ЭДО_ТипыДокументов.УПД)
					ИЛИ ЭДО_СопоставлениеДокументов.ВидДокумента = ЗНАЧЕНИЕ(Перечисление.ЭДО_ТипыДокументов.АктВыполненныхРабот)
				ТОГДА ЭДО_СопоставлениеДокументов.ДокументЭДО.ФайлPDF
			ИНАЧЕ ЗНАЧЕНИЕ(Справочник.Файлы.ПустаяСсылкА)
		КОНЕЦ) КАК ФайлТОРГ12,
	МАКСИМУМ(ВЫБОР
			КОГДА ЭДО_СопоставлениеДокументов.ВидДокумента = ЗНАЧЕНИЕ(Перечисление.ЭДО_ТипыДокументов.ТоварнаяНакладная)
					ИЛИ ЭДО_СопоставлениеДокументов.ВидДокумента = ЗНАЧЕНИЕ(Перечисление.ЭДО_ТипыДокументов.УПД)
					ИЛИ ЭДО_СопоставлениеДокументов.ВидДокумента = ЗНАЧЕНИЕ(Перечисление.ЭДО_ТипыДокументов.АктВыполненныхРабот)
				ТОГДА ЭДО_СопоставлениеДокументов.ПодтверженоОператором
			ИНАЧЕ ЛОЖЬ
		КОНЕЦ) КАК ПодтвержденоОператоромТОРГ12,
	МАКСИМУМ(ВЫБОР
			КОГДА ЭДО_СопоставлениеДокументов.ВидДокумента = ЗНАЧЕНИЕ(Перечисление.ЭДО_ТипыДокументов.ТоварнаяНакладная)
					ИЛИ ЭДО_СопоставлениеДокументов.ВидДокумента = ЗНАЧЕНИЕ(Перечисление.ЭДО_ТипыДокументов.УПД)
					ИЛИ ЭДО_СопоставлениеДокументов.ВидДокумента = ЗНАЧЕНИЕ(Перечисление.ЭДО_ТипыДокументов.АктВыполненныхРабот)
				ТОГДА ЭДО_СопоставлениеДокументов.ПодтвержденоОтветственным
			ИНАЧЕ ЛОЖЬ
		КОНЕЦ) КАК ПодтвержденоОтветственнымПоНДСТОРГ12
ПОМЕСТИТЬ ВТ_ЭДО_Предв
ИЗ
	РегистрСведений.ЭДО_СопоставлениеДокументов КАК ЭДО_СопоставлениеДокументов
ГДЕ
	//ЭДО_СопоставлениеДокументов.Документ.Дата МЕЖДУ &amp;ДатаНач И &amp;ДатаКон
	ЭДО_СопоставлениеДокументов.ВидДокумента В (ЗНАЧЕНИЕ(Перечисление.ЭДО_ТипыДокументов.ТоварнаяНакладная), ЗНАЧЕНИЕ(Перечисление.ЭДО_ТипыДокументов.СчетФактура), ЗНАЧЕНИЕ(Перечисление.ЭДО_ТипыДокументов.УПД), ЗНАЧЕНИЕ(Перечисление.ЭДО_ТипыДокументов.АктВыполненныхРабот))

СГРУППИРОВАТЬ ПО
	ЭДО_СопоставлениеДокументов.Документ
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВТ_ЭДО_Предв.Документ,
	ВТ_ЭДО_Предв.ДокументЭДО_СФ,
	ВТ_ЭДО_Предв.ДокументЭДО_ТОРГ,
	ВТ_ЭДО_Предв.ФайлСФ,
	ВТ_ЭДО_Предв.ПодтвержденоОператоромСФ,
	ВТ_ЭДО_Предв.ПодтвержденоОтветственнымПоНДССФ,
	ВТ_ЭДО_Предв.ФайлТОРГ12,
	ВТ_ЭДО_Предв.ПодтвержденоОператоромТОРГ12,
	ВТ_ЭДО_Предв.ПодтвержденоОтветственнымПоНДСТОРГ12,
	РезультатСравненияФайлаСОбъектом.РезультатСравнения КАК РезультатСравненияСФ,
	РезультатСравненияФайлаСОбъектом.ЕстьОшибки КАК ЕстьОшибкиСФ,
	РезультатСравненияФайлаСОбъектомТОРГ.РезультатСравнения КАК РезультатСравненияТОРГ12,
	РезультатСравненияФайлаСОбъектомТОРГ.ЕстьОшибки КАК ЕстьОшибкиТОРГ12,
	ВТ_ЭДО_Предв.ДокументЭДО_СФ.ФайлXML КАК РаспФайлСФ,
	ВТ_ЭДО_Предв.ДокументЭДО_ТОРГ.ФайлXML КАК РаспФайлТОРГ,
	"""" КАК РезультатСравненияСФ_С_РаспознаннымФайлом,
	ЛОЖЬ КАК ЕстьОшибкиРаспСФ,
	"""" КАК РезультатСравненияТОРГ_С_РаспознаннымФайлом,
	ЛОЖЬ КАК ЕстьОшибкиРаспТОРГ12
ПОМЕСТИТЬ ВТ_ДанныеЭДО
ИЗ
	ВТ_ЭДО_Предв КАК ВТ_ЭДО_Предв
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РезультатСравненияФайлаСОбъектом КАК РезультатСравненияФайлаСОбъектом
		ПО ВТ_ЭДО_Предв.Документ = РезультатСравненияФайлаСОбъектом.ОбъектСравнения
			И ВТ_ЭДО_Предв.ДокументЭДО_СФ = РезультатСравненияФайлаСОбъектом.Файл
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.РезультатСравненияФайлаСОбъектом КАК РезультатСравненияФайлаСОбъектомТОРГ
		ПО ВТ_ЭДО_Предв.Документ = РезультатСравненияФайлаСОбъектомТОРГ.ОбъектСравнения
			И ВТ_ЭДО_Предв.ДокументЭДО_ТОРГ = РезультатСравненияФайлаСОбъектомТОРГ.Файл
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВТ_ДанныеДокумента.Документ,
	ЕСТЬNULL(ВТ_ДанныеЭДО.ФайлСФ, ВТ_ДанныеДокумента.ФайлСФ) КАК ФайлСФ,
	ЕСТЬNULL(ВТ_ДанныеЭДО.ФайлТОРГ12, ВТ_ДанныеДокумента.ФайлТОРГ12) КАК ФайлТОРГ12,
	ЕСТЬNULL(ВТ_ДанныеЭДО.ДокументЭДО_СФ, ЗНАЧЕНИЕ(Документ.ЭДО_ВходящийДокумент.ПустаяСсылка)) КАК ДокументЭДО_СФ,
	ЕСТЬNULL(ВТ_ДанныеЭДО.ДокументЭДО_ТОРГ, ЗНАЧЕНИЕ(Документ.ЭДО_ВходящийДокумент.ПустаяСсылка)) КАК ДокументЭДО_ТОРГ,
	ЕСТЬNULL(ВТ_ДанныеЭДО.ПодтвержденоОператоромСФ, ЛОЖЬ) КАК ПодтвержденоОператоромСФ,
	ЕСТЬNULL(ВТ_ДанныеЭДО.ПодтвержденоОтветственнымПоНДССФ, ЛОЖЬ) КАК ПодтвержденоОтветственнымПоНДССФ,
	ЕСТЬNULL(ВТ_ДанныеЭДО.ПодтвержденоОператоромТОРГ12, ЛОЖЬ) КАК ПодтвержденоОператоромТОРГ12,
	ЕСТЬNULL(ВТ_ДанныеЭДО.ПодтвержденоОтветственнымПоНДСТОРГ12, ЛОЖЬ) КАК ПодтвержденоОтветственнымПоНДСТОРГ12,
	ЕСТЬNULL(ВТ_ДанныеЭДО.РезультатСравненияСФ, "") КАК РезультатСравненияСФ,
	ЕСТЬNULL(ВТ_ДанныеЭДО.ЕстьОшибкиСФ, ИСТИНА) КАК ЕстьОшибкиСФ,
	ЕСТЬNULL(ВТ_ДанныеЭДО.РезультатСравненияТОРГ12, "") КАК РезультатСравненияТОРГ12,
	ЕСТЬNULL(ВТ_ДанныеЭДО.ЕстьОшибкиТОРГ12, ИСТИНА) КАК ЕстьОшибкиТОРГ12,
	ЕСТЬNULL(ВТ_ДанныеЭДО.РаспФайлСФ, ЗНАЧЕНИЕ(Справочник.Файлы.ПустаяСсылка)) КАК РаспФайлСФ,
	ЕСТЬNULL(ВТ_ДанныеЭДО.РаспФайлТОРГ, ЗНАЧЕНИЕ(Справочник.Файлы.ПустаяСсылка)) КАК РаспФайлТОРГ,
	ЕСТЬNULL(ВТ_ДанныеЭДО.РезультатСравненияСФ_С_РаспознаннымФайлом, "") КАК РезультатСравненияСФ_С_РаспознаннымФайлом,
	ЕСТЬNULL(ВТ_ДанныеЭДО.ЕстьОшибкиРаспСФ, ЛОЖЬ) КАК ЕстьОшибкиРаспСФ,
	ЕСТЬNULL(ВТ_ДанныеЭДО.РезультатСравненияТОРГ_С_РаспознаннымФайлом, "") КАК РезультатСравненияТОРГ_С_РаспознаннымФайлом,
	ЕСТЬNULL(ВТ_ДанныеЭДО.ЕстьОшибкиРаспТОРГ12, ЛОЖЬ) КАК ЕстьОшибкиРаспТОРГ12,
	ВЫБОР
		КОГДА ВТ_ДанныеЭДО.Документ ЕСТЬ NULL
				ИЛИ ВТ_ДанныеЭДО.ДокументЭДО_СФ = ЗНАЧЕНИЕ(Документ.ЭДО_ВходящийДокумент.ПустаяСсылка)
					И ВТ_ДанныеЭДО.ДокументЭДО_ТОРГ = ЗНАЧЕНИЕ(Документ.ЭДО_ВходящийДокумент.ПустаяСсылка)
				ИЛИ ВТ_ДанныеЭДО.ДокументЭДО_СФ = ЗНАЧЕНИЕ(Документ.ЭДО_ИсходящийДокумент.ПустаяСсылка)
					И ВТ_ДанныеЭДО.ДокументЭДО_ТОРГ = ЗНАЧЕНИЕ(Документ.ЭДО_ИсходящийДокумент.ПустаяСсылка)	
			ТОГДА ЛОЖЬ
		ИНАЧЕ ИСТИНА
	КОНЕЦ КАК ЭтоЭДО
ИЗ
	ВТ_ДанныеДокумента КАК ВТ_ДанныеДокумента
		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_ДанныеЭДО КАК ВТ_ДанныеЭДО
		ПО ВТ_ДанныеДокумента.Документ = ВТ_ДанныеЭДО.Документ</query>
	</dataSet>
	<dataSetLink>
		<sourceDataSet>ДанныеПоДокументам</sourceDataSet>
		<destinationDataSet>ВнешниеДанныеБП</destinationDataSet>
		<sourceExpression>ВидДокумента</sourceExpression>
		<destinationExpression>ВидДокумента</destinationExpression>
	</dataSetLink>
	<dataSetLink>
		<sourceDataSet>ДанныеПоДокументам</sourceDataSet>
		<destinationDataSet>ВнешниеДанныеБП</destinationDataSet>
		<sourceExpression>НомерДокумента</sourceExpression>
		<destinationExpression>НомерДокумента</destinationExpression>
	</dataSetLink>
	<dataSetLink>
		<sourceDataSet>ДанныеПоДокументам</sourceDataSet>
		<destinationDataSet>ВнешниеДанныеБП</destinationDataSet>
		<sourceExpression>ДатаДокумента</sourceExpression>
		<destinationExpression>ДатаДокумента</destinationExpression>
	</dataSetLink>
	<dataSetLink>
		<sourceDataSet>ДанныеПоДокументам</sourceDataSet>
		<destinationDataSet>ДанныеРаспознавания</destinationDataSet>
		<sourceExpression>Документ</sourceExpression>
		<destinationExpression>Документ</destinationExpression>
	</dataSetLink>
	<calculatedField>
		<dataPath>ЕстьПроблемыСФ</dataPath>
		<expression>ВЫБОР КОГДА ПодтвержденоОператоромСФ = ИСТИНА ТОГДА 
	ЛОЖЬ ИНАЧЕ		
	ВЫБОР КОГДА 
		ВЫБОР 
			КОГДА ЭтоЭДО = Истина ТОГДА 
				ВЫБОР КОГДА НЕ ДокументЭДО_СФ В (ЗНАЧЕНИЕ(Документ.ЭДО_ВходящийДокумент.ПустаяСсылка), ЗНАЧЕНИЕ(Документ.ЭДО_ИсходящийДокумент.ПустаяСсылка)) ТОГДА
					1 ИНАЧЕ 0 
				КОНЕЦ	
			КОГДА ЭтоЭДО = Ложь ТОГДА 
				ВЫБОР КОГДА ФайлСФ &lt;&gt; ЗНАЧЕНИЕ(Справочник.Файлы.ПустаяСсылка)  ТОГДА
					1 ИНАЧЕ 0 
				КОНЕЦ
			ИНАЧЕ
				0
		КОНЕЦ = 0 ТОГДА 
		ИСТИНА 
	ИНАЧЕ ЕстьОшибкиСФ 
	КОНЕЦ
КОНЕЦ</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Есть проблемы СФ</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:boolean</v8:Type>
		</valueType>
	</calculatedField>
	<calculatedField>
		<dataPath>ЕстьПроблемыТРОГ</dataPath>
		<expression>ВЫБОР КОГДА ПодтвержденоОператоромТОРГ12 = ИСТИНА ТОГДА 
    ЛОЖЬ ИНАЧЕ      
    ВЫБОР КОГДА 
        ВЫБОР 
            КОГДА ЭтоЭДО = Истина ТОГДА 
                ВЫБОР КОГДА НЕ ДокументЭДО_ТОРГ  В (ЗНАЧЕНИЕ(Документ.ЭДО_ВходящийДокумент.ПустаяСсылка), ЗНАЧЕНИЕ(Документ.ЭДО_ИсходящийДокумент.ПустаяСсылка)) ТОГДА
                    1 ИНАЧЕ 0 
                КОНЕЦ   
            КОГДА ЭтоЭДО = Ложь ТОГДА 
                ВЫБОР КОГДА ФайлТОРГ12 &lt;&gt; ЗНАЧЕНИЕ(Справочник.Файлы.ПустаяСсылка)  ТОГДА
                    1 ИНАЧЕ 0 
                КОНЕЦ
            ИНАЧЕ
                0
        КОНЕЦ = 0 ТОГДА 
        ИСТИНА 
    ИНАЧЕ ЕстьОшибкиТОРГ12 
    КОНЕЦ
КОНЕЦ</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Есть проблемы ТРОГ</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:boolean</v8:Type>
		</valueType>
	</calculatedField>
	<calculatedField>
		<dataPath>Есть_Вложение_СФ</dataPath>
		<expression>ВЫБОР 
    КОГДА ЭтоЭДО = Истина ТОГДА 
        ВЫБОР КОГДА НЕ ДокументЭДО_СФ В (ЗНАЧЕНИЕ(Документ.ЭДО_ВходящийДокумент.ПустаяСсылка), ЗНАЧЕНИЕ(Документ.ЭДО_ИсходящийДокумент.ПустаяСсылка)) ТОГДА
            1 ИНАЧЕ 0 
        КОНЕЦ   
    КОГДА ЭтоЭДО = Ложь ТОГДА 
        ВЫБОР КОГДА ФайлСФ &lt;&gt; ЗНАЧЕНИЕ(Справочник.Файлы.ПустаяСсылка)  ТОГДА
            1 ИНАЧЕ 0 
        КОНЕЦ
    ИНАЧЕ
        0
КОНЕЦ</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Есть вложение СФ</v8:content>
			</v8:item>
		</title>
	</calculatedField>
	<calculatedField>
		<dataPath>Есть_Вложение_ТОРГ</dataPath>
		<expression>ВЫБОР 
	КОГДА ЭтоЭДО = Истина ТОГДА 
		ВЫБОР КОГДА НЕ ДокументЭДО_ТОРГ В (ЗНАЧЕНИЕ(Документ.ЭДО_ВходящийДокумент.ПустаяСсылка), ЗНАЧЕНИЕ(Документ.ЭДО_ИсходящийДокумент.ПустаяСсылка)) ТОГДА
			1 ИНАЧЕ 0 
		КОНЕЦ	
	КОГДА ЭтоЭДО = Ложь ТОГДА 
		ВЫБОР КОГДА ФайлТОРГ12 &lt;&gt; ЗНАЧЕНИЕ(Справочник.Файлы.ПустаяСсылка)  ТОГДА
			1 ИНАЧЕ 0 
		КОНЕЦ
	ИНАЧЕ
		0
КОНЕЦ</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Есть вложение ТОРГ</v8:content>
			</v8:item>
		</title>
	</calculatedField>
	<totalField>
		<dataPath>Сумма_БП</dataPath>
		<expression>Сумма(Сумма_БП)</expression>
	</totalField>
	<totalField>
		<dataPath>СуммаНДС_БП</dataPath>
		<expression>Сумма(СуммаНДС_БП)</expression>
	</totalField>
	<totalField>
		<dataPath>НомерСФ_БП</dataPath>
		<expression>Максимум(НомерСФ_БП)</expression>
	</totalField>
	<totalField>
		<dataPath>НомерСФ_Фин</dataPath>
		<expression>Максимум(НомерСФ_Фин)</expression>
	</totalField>
	<totalField>
		<dataPath>ДатаСФ_БП</dataPath>
		<expression>Максимум(ДатаСФ_БП)</expression>
	</totalField>
	<totalField>
		<dataPath>ДатаСФ_Фин</dataPath>
		<expression>Максимум(ДатаСФ_Фин)</expression>
	</totalField>
	<totalField>
		<dataPath>Сумма_Фин</dataPath>
		<expression>Сумма(Сумма_Фин)</expression>
	</totalField>
	<totalField>
		<dataPath>СуммаНДС_Фин</dataPath>
		<expression>Сумма(СуммаНДС_Фин)</expression>
	</totalField>
	<totalField>
		<dataPath>Есть_Вложение_СФ</dataPath>
		<expression>Минимум(Есть_Вложение_СФ)</expression>
	</totalField>
	<totalField>
		<dataPath>Есть_Вложение_ТОРГ</dataPath>
		<expression>Минимум(Есть_Вложение_ТОРГ)</expression>
	</totalField>
	<totalField>
		<dataPath>ЕстьОшибкиСФ</dataPath>
		<expression>Минимум(ЕстьОшибкиСФ)</expression>
	</totalField>
	<totalField>
		<dataPath>ЕстьОшибкиТОРГ12</dataPath>
		<expression>Минимум(ЕстьОшибкиТОРГ12)</expression>
	</totalField>
	<totalField>
		<dataPath>ПодтвержденоОператоромСФ</dataPath>
		<expression>Минимум(ПодтвержденоОператоромСФ)</expression>
	</totalField>
	<totalField>
		<dataPath>ПодтвержденоОтветственнымПоНДССФ</dataPath>
		<expression>Минимум(ПодтвержденоОтветственнымПоНДССФ)</expression>
	</totalField>
	<totalField>
		<dataPath>ПодтвержденоОператоромТОРГ12</dataPath>
		<expression>Минимум(ПодтвержденоОператоромТОРГ12)</expression>
	</totalField>
	<totalField>
		<dataPath>ПодтвержденоОтветственнымПоНДСТОРГ12</dataPath>
		<expression>Минимум(ПодтвержденоОтветственнымПоНДСТОРГ12)</expression>
	</totalField>
	<totalField>
		<dataPath>НомерСФ_Испр_БП</dataPath>
		<expression>Максимум(НомерСФ_Испр_БП)</expression>
	</totalField>
	<totalField>
		<dataPath>НомерСФ_Испр_Фин</dataPath>
		<expression>Максимум(НомерСФ_Испр_Фин)</expression>
	</totalField>
	<totalField>
		<dataPath>ДатаСФ_Испр_БП</dataPath>
		<expression>Максимум(ДатаСФ_Испр_БП)</expression>
	</totalField>
	<totalField>
		<dataPath>ДатаСФ_Испр_Фин</dataPath>
		<expression>Максимум(ДатаСФ_Испр_Фин)</expression>
	</totalField>
	<parameter>
		<name>ДатаКон</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Дата кон</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>true</useRestriction>
		<expression>&amp;СтандартныйПериод.ДатаОкончания</expression>
		<availableAsField>false</availableAsField>
	</parameter>
	<parameter>
		<name>ДатаНач</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Дата нач</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>true</useRestriction>
		<expression>&amp;СтандартныйПериод.ДатаНачала</expression>
		<availableAsField>false</availableAsField>
	</parameter>
	<parameter>
		<name>СтандартныйПериод</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Период</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>v8:StandardPeriod</v8:Type>
		</valueType>
		<value xsi:type="v8:StandardPeriod">
			<v8:variant xsi:type="v8:StandardPeriodVariant">Custom</v8:variant>
			<v8:startDate>0001-01-01T00:00:00</v8:startDate>
			<v8:endDate>0001-01-01T00:00:00</v8:endDate>
		</value>
		<useRestriction>false</useRestriction>
		<use>Always</use>
	</parameter>
	<parameter>
		<name>ТипОтчета</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Тип отчета</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:string</v8:Type>
			<v8:StringQualifiers>
				<v8:Length>10</v8:Length>
				<v8:AllowedLength>Variable</v8:AllowedLength>
			</v8:StringQualifiers>
		</valueType>
		<value xsi:type="xs:string"/>
		<useRestriction>false</useRestriction>
		<availableValue>
			<value xsi:type="xs:string">Покупки</value>
			<presentation xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Покупки</v8:content>
				</v8:item>
			</presentation>
		</availableValue>
		<availableValue>
			<value xsi:type="xs:string">Продажи</value>
			<presentation xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Продажи</v8:content>
				</v8:item>
			</presentation>
		</availableValue>
		<use>Always</use>
	</parameter>
	<parameter>
		<name>ВидОтчета</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Вид отчета</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:string</v8:Type>
			<v8:StringQualifiers>
				<v8:Length>0</v8:Length>
				<v8:AllowedLength>Variable</v8:AllowedLength>
			</v8:StringQualifiers>
		</valueType>
		<value xsi:type="xs:string">Все</value>
		<useRestriction>false</useRestriction>
		<availableValue>
			<value xsi:type="xs:string">Все</value>
			<presentation xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Все</v8:content>
				</v8:item>
			</presentation>
		</availableValue>
		<availableValue>
			<value xsi:type="xs:string">Проблемные</value>
			<presentation xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Проблемные</v8:content>
				</v8:item>
			</presentation>
		</availableValue>
		<availableValue>
			<value xsi:type="xs:string">ПроблемныеСФ</value>
			<presentation xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Проблемные СФ</v8:content>
				</v8:item>
			</presentation>
		</availableValue>
		<availableValue>
			<value xsi:type="xs:string">ПроблемныеНакладные</value>
			<presentation xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Проблемные накладные</v8:content>
				</v8:item>
			</presentation>
		</availableValue>
		<availableValue>
			<value xsi:type="xs:string">НуждаютсяВПодтверждении</value>
			<presentation xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Нуждаются в подтверждении</v8:content>
				</v8:item>
			</presentation>
		</availableValue>
		<use>Always</use>
	</parameter>
	<parameter>
		<name>СравниватьСБухгалтерией</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Сравнивать с книгой покупок</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:boolean</v8:Type>
		</valueType>
		<value xsi:type="xs:boolean">false</value>
		<useRestriction>false</useRestriction>
		<use>Always</use>
	</parameter>
	<settingsVariant>
		<dcsset:name>Основной</dcsset:name>
		<dcsset:presentation xsi:type="xs:string">Основной</dcsset:presentation>
		<dcsset:settings xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows">
			<dcsset:selection>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Документ</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ДокументПТУ</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Контрагент</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Организация</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ДатаСФ_Фин</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>НомерСФ_Фин</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>НомерСФ_БП</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ДатаСФ_БП</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Сумма_БП</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>СуммаНДС_БП</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Сумма_Фин</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>СуммаНДС_Фин</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Есть_Вложение_СФ</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Есть_Вложение_ТОРГ</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ЕстьОшибкиСФ</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ЕстьОшибкиТОРГ12</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ПодтвержденоОператоромСФ</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ПодтвержденоОтветственнымПоНДССФ</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ПодтвержденоОператоромТОРГ12</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ПодтвержденоОтветственнымПоНДСТОРГ12</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ВидДокумента</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ФайлСФ</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ФайлТОРГ12</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ЭтоЭДО</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ДокументЭДО_СФ</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ДокументЭДО_ТОРГ</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>РезультатСравненияСФ</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>РезультатСравненияТОРГ12</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>НомерСФ_Испр_БП</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>НомерСФ_Испр_Фин</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ДатаСФ_Испр_БП</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ДатаСФ_Испр_Фин</dcsset:field>
				</dcsset:item>
			</dcsset:selection>
			<dcsset:filter>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Контрагент</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:userSettingID>a8d7a676-bf81-4b1c-bdd4-09965fd3d4a4</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Организация</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:userSettingID>edb26be2-2ae1-4299-8a7b-5c22fbc6ed2f</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Контрагент.ОсновнойБухгалтерПокупателя</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:userSettingID>0fa5f6c7-14d0-4cd2-bf93-97a88b3a32c8</dcsset:userSettingID>
					<dcsset:userSettingPresentation xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Ответственный бухгалтер</v8:content>
						</v8:item>
					</dcsset:userSettingPresentation>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">ЭтоЭДО</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="xs:boolean">true</dcsset:right>
					<dcsset:userSettingID>07f44ec1-6b6a-4ddb-956d-401fcdc5aaa2</dcsset:userSettingID>
					<dcsset:userSettingPresentation xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Только ЭДО</v8:content>
						</v8:item>
					</dcsset:userSettingPresentation>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemGroup">
					<dcsset:use>false</dcsset:use>
					<dcsset:groupType>OrGroup</dcsset:groupType>
					<dcsset:item xsi:type="dcsset:FilterItemComparison">
						<dcsset:left xsi:type="dcscor:Field">Есть_Вложение_СФ</dcsset:left>
						<dcsset:comparisonType>Equal</dcsset:comparisonType>
						<dcsset:right xsi:type="xs:decimal">1</dcsset:right>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:FilterItemComparison">
						<dcsset:left xsi:type="dcscor:Field">Есть_Вложение_ТОРГ</dcsset:left>
						<dcsset:comparisonType>Equal</dcsset:comparisonType>
						<dcsset:right xsi:type="xs:decimal">1</dcsset:right>
					</dcsset:item>
					<dcsset:userSettingID>07843275-3cff-450f-a68e-e5e470551d3e</dcsset:userSettingID>
					<dcsset:userSettingPresentation xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Только прикрепленные</v8:content>
						</v8:item>
					</dcsset:userSettingPresentation>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemGroup">
					<dcsset:groupType>OrGroup</dcsset:groupType>
					<dcsset:item xsi:type="dcsset:FilterItemGroup">
						<dcsset:groupType>AndGroup</dcsset:groupType>
						<dcsset:item xsi:type="dcsset:FilterItemComparison">
							<dcsset:left xsi:type="dcscor:Field">ПараметрыДанных.ВидОтчета</dcsset:left>
							<dcsset:comparisonType>Equal</dcsset:comparisonType>
							<dcsset:right xsi:type="xs:string">Все</dcsset:right>
						</dcsset:item>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:FilterItemGroup">
						<dcsset:groupType>AndGroup</dcsset:groupType>
						<dcsset:item xsi:type="dcsset:FilterItemComparison">
							<dcsset:left xsi:type="dcscor:Field">ПараметрыДанных.ВидОтчета</dcsset:left>
							<dcsset:comparisonType>Equal</dcsset:comparisonType>
							<dcsset:right xsi:type="xs:string">ПроблемныеСФ</dcsset:right>
						</dcsset:item>
						<dcsset:item xsi:type="dcsset:FilterItemComparison">
							<dcsset:left xsi:type="dcscor:Field">ЕстьПроблемыСФ</dcsset:left>
							<dcsset:comparisonType>Equal</dcsset:comparisonType>
							<dcsset:right xsi:type="xs:boolean">true</dcsset:right>
						</dcsset:item>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:FilterItemGroup">
						<dcsset:groupType>AndGroup</dcsset:groupType>
						<dcsset:item xsi:type="dcsset:FilterItemComparison">
							<dcsset:left xsi:type="dcscor:Field">ПараметрыДанных.ВидОтчета</dcsset:left>
							<dcsset:comparisonType>Equal</dcsset:comparisonType>
							<dcsset:right xsi:type="xs:string">ПроблемныеНакладные</dcsset:right>
						</dcsset:item>
						<dcsset:item xsi:type="dcsset:FilterItemComparison">
							<dcsset:left xsi:type="dcscor:Field">ЕстьПроблемыСФ</dcsset:left>
							<dcsset:comparisonType>Equal</dcsset:comparisonType>
							<dcsset:right xsi:type="xs:boolean">true</dcsset:right>
						</dcsset:item>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:FilterItemGroup">
						<dcsset:groupType>AndGroup</dcsset:groupType>
						<dcsset:item xsi:type="dcsset:FilterItemComparison">
							<dcsset:left xsi:type="dcscor:Field">ПараметрыДанных.ВидОтчета</dcsset:left>
							<dcsset:comparisonType>Equal</dcsset:comparisonType>
							<dcsset:right xsi:type="xs:string">Проблемные</dcsset:right>
						</dcsset:item>
						<dcsset:item xsi:type="dcsset:FilterItemGroup">
							<dcsset:groupType>OrGroup</dcsset:groupType>
							<dcsset:item xsi:type="dcsset:FilterItemComparison">
								<dcsset:left xsi:type="dcscor:Field">ЕстьПроблемыТРОГ</dcsset:left>
								<dcsset:comparisonType>Equal</dcsset:comparisonType>
								<dcsset:right xsi:type="xs:boolean">true</dcsset:right>
							</dcsset:item>
							<dcsset:item xsi:type="dcsset:FilterItemComparison">
								<dcsset:left xsi:type="dcscor:Field">ЕстьПроблемыСФ</dcsset:left>
								<dcsset:comparisonType>Equal</dcsset:comparisonType>
								<dcsset:right xsi:type="xs:boolean">true</dcsset:right>
							</dcsset:item>
						</dcsset:item>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:FilterItemGroup">
						<dcsset:groupType>AndGroup</dcsset:groupType>
						<dcsset:item xsi:type="dcsset:FilterItemComparison">
							<dcsset:left xsi:type="dcscor:Field">ПараметрыДанных.ВидОтчета</dcsset:left>
							<dcsset:comparisonType>Equal</dcsset:comparisonType>
							<dcsset:right xsi:type="xs:string">НуждаютсяВПодтверждении</dcsset:right>
						</dcsset:item>
						<dcsset:item xsi:type="dcsset:FilterItemGroup">
							<dcsset:groupType>OrGroup</dcsset:groupType>
							<dcsset:item xsi:type="dcsset:FilterItemGroup">
								<dcsset:groupType>AndGroup</dcsset:groupType>
								<dcsset:item xsi:type="dcsset:FilterItemComparison">
									<dcsset:left xsi:type="dcscor:Field">ПодтвержденоОтветственнымПоНДССФ</dcsset:left>
									<dcsset:comparisonType>Equal</dcsset:comparisonType>
									<dcsset:right xsi:type="xs:boolean">false</dcsset:right>
								</dcsset:item>
								<dcsset:item xsi:type="dcsset:FilterItemComparison">
									<dcsset:left xsi:type="dcscor:Field">ПодтвержденоОператоромСФ</dcsset:left>
									<dcsset:comparisonType>Equal</dcsset:comparisonType>
									<dcsset:right xsi:type="xs:boolean">true</dcsset:right>
								</dcsset:item>
							</dcsset:item>
							<dcsset:item xsi:type="dcsset:FilterItemGroup">
								<dcsset:groupType>AndGroup</dcsset:groupType>
								<dcsset:item xsi:type="dcsset:FilterItemComparison">
									<dcsset:left xsi:type="dcscor:Field">ПодтвержденоОтветственнымПоНДСТОРГ12</dcsset:left>
									<dcsset:comparisonType>Equal</dcsset:comparisonType>
									<dcsset:right xsi:type="xs:boolean">false</dcsset:right>
								</dcsset:item>
								<dcsset:item xsi:type="dcsset:FilterItemComparison">
									<dcsset:left xsi:type="dcscor:Field">ПодтвержденоОператоромТОРГ12</dcsset:left>
									<dcsset:comparisonType>Equal</dcsset:comparisonType>
									<dcsset:right xsi:type="xs:boolean">true</dcsset:right>
								</dcsset:item>
							</dcsset:item>
						</dcsset:item>
					</dcsset:item>
				</dcsset:item>
			</dcsset:filter>
			<dcsset:dataParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>СтандартныйПериод</dcscor:parameter>
					<dcscor:value xsi:type="v8:StandardPeriod">
						<v8:variant xsi:type="v8:StandardPeriodVariant">Custom</v8:variant>
						<v8:startDate>0001-01-01T00:00:00</v8:startDate>
						<v8:endDate>0001-01-01T00:00:00</v8:endDate>
					</dcscor:value>
					<dcsset:userSettingID>4d0451b5-931f-4f18-9406-e06871eea559</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>ТипОтчета</dcscor:parameter>
					<dcscor:value xsi:type="xs:string">Покупки</dcscor:value>
					<dcsset:userSettingID>92e74572-7075-4d83-8ace-88384328ca9e</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>ВидОтчета</dcscor:parameter>
					<dcscor:value xsi:type="xs:string">Все</dcscor:value>
					<dcsset:userSettingID>4f6333b5-ba4f-4ad9-aeec-e96e4ba6e3db</dcsset:userSettingID>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:use>false</dcscor:use>
					<dcscor:parameter>СравниватьСБухгалтерией</dcscor:parameter>
					<dcscor:value xsi:type="xs:boolean">false</dcscor:value>
					<dcsset:userSettingID>e2d289c6-f9bc-46ed-a031-6ac9d532e7c9</dcsset:userSettingID>
				</dcscor:item>
			</dcsset:dataParameters>
			<dcsset:order>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>ДатаДокумента</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
			</dcsset:order>
			<dcsset:item xsi:type="dcsset:StructureItemGroup">
				<dcsset:groupItems>
					<dcsset:item xsi:type="dcsset:GroupItemField">
						<dcsset:field>ДокументПТУ</dcsset:field>
						<dcsset:groupType>Items</dcsset:groupType>
						<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
						<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
						<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
					</dcsset:item>
				</dcsset:groupItems>
				<dcsset:filter>
					<dcsset:item xsi:type="dcsset:FilterItemComparison">
						<dcsset:left xsi:type="dcscor:Field">СуммаНДС_Фин</dcsset:left>
						<dcsset:comparisonType>NotEqual</dcsset:comparisonType>
						<dcsset:right xsi:type="xs:decimal">0</dcsset:right>
					</dcsset:item>
				</dcsset:filter>
				<dcsset:order>
					<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
				</dcsset:order>
				<dcsset:selection>
					<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
				</dcsset:selection>
				<dcsset:item xsi:type="dcsset:StructureItemGroup">
					<dcsset:order>
						<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
					</dcsset:order>
					<dcsset:selection>
						<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
					</dcsset:selection>
				</dcsset:item>
			</dcsset:item>
		</dcsset:settings>
	</settingsVariant>
</DataCompositionSchema>