
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
перем Данные,ТекстОписаниеОшибки,ТестовыйАдрес;

	УстановитьПривилегированныйРежим(Истина);

	Отказ=НЕ АК_РассылкиПоставщикамТехнологам.ПолучитьПараметрыНастройкиРассылокПоставщикамТехнологам(Данные,ТекстОписаниеОшибки);
	Если Отказ тогда
		ОбщегоНазначенияКлиентСервер.СообщитьПользователю("Ошибка при получении данных настройки: "+ТекстОписаниеОшибки);
	иначе
		Попытка
			Если ТипЗнч(Данные)=Тип("Структура") тогда
				Для Каждого Элемент из Данные цикл
					попытка
						Если Элемент.Ключ="ВидыКонтактнойИнформацииПроизводитель" тогда
							ВидыКонтактнойИнформацииПроизводитель.Загрузить(Элемент.Значение);
						ИначеЕсли Элемент.Ключ="ВидыКонтактнойИнформацииТехнолог" тогда
							ВидыКонтактнойИнформацииТехнолог.Загрузить(Элемент.Значение);
						Иначе 
							//
						КонецЕсли;
					Исключение
						ОбщегоНазначенияКлиентСервер.СообщитьПользователю("Ошибка получения данных """+Элемент.Ключ+""": "+ОписаниеОшибки());
					КонецПопытки;
				КонецЦикла;
			Иначе 
				ОбщегоНазначенияКлиентСервер.СообщитьПользователю("Данные повреждены");
			КонецЕсли;
		Исключение
			ОбщегоНазначенияКлиентСервер.СообщитьПользователю("Данные повреждены");
		КонецПопытки;
	КонецЕсли;
	
	УстановитьПривилегированныйРежим(Ложь);
	
КонецПроцедуры
