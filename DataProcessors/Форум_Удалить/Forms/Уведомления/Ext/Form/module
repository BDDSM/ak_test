
Перем ТолькоНовые;


Процедура ЗадачаСписокВыбор(Элемент, ВыбраннаяСтрока, Колонка, СтандартнаяОбработка)
	
	СтандартнаяОбработка = Ложь;
	
	ФормаФорум = ОбработкаФорум.ПолучитьФорму("Форум",, "Phorum");
	Если ФормаФорум.Открыта() Тогда
		ФормаФорум.Открыть();
	КонецЕсли;	
	
	ФормаФорум.Тема 		= ВыбраннаяСтрока.Ссылка.Тема;
	ФормаФорум.Пользователь = ВыбраннаяСтрока.Ссылка.Пользователь;
	ФормаФорум.НомерПоста 	= ВыбраннаяСтрока.Ссылка.НомерПоста;
	ФормаФорум.Обновить1(0);
	ФормаФорум.Активизировать();
	
КонецПроцедуры

Процедура ПриОткрытии()
	
	ТолькоНовые = Истина;
	
	ОтборЗ = ЗадачаСписок.Отбор.Выполнена;
	ОтборЗ.Использование 	= Истина;
	ОтборЗ.ВидСравнения 	= ВидСравнения.Равно;
	ОтборЗ.Значение 		= Ложь;
	
КонецПроцедуры

Процедура ЗадачаСписокПриВыводеСтроки(Элемент, ОформлениеСтроки, ДанныеСтроки)
	
	Если НЕ ДанныеСтроки.Ссылка.Выполнена Тогда
		ОформлениеСтроки.Шрифт = Новый Шрифт(,, Истина);
	Иначе	
		ОформлениеСтроки.Шрифт = Новый Шрифт(,, Ложь);
	КонецЕсли;
	
КонецПроцедуры


Процедура Кнопка1Нажатие(Элемент)
	
	Если ТолькоНовые Тогда
		ОтборЗ = ЗадачаСписок.Отбор.Выполнена;
		ОтборЗ.Использование = Ложь;
	    ТолькоНовые = Ложь;
		Элемент.Заголовок = "Только новые";
	Иначе
		ОтборЗ = ЗадачаСписок.Отбор.Выполнена;
		ОтборЗ.Использование 	= Истина;
		ОтборЗ.ВидСравнения 	= ВидСравнения.Равно;
		ОтборЗ.Значение 		= Ложь;
		ТолькоНовые = Истина;
		Элемент.Заголовок = "Все уведомления";
	КонецЕсли;
	
КонецПроцедуры
