<?xml version="1.0" encoding="UTF-8"?>
<DataCompositionSchema xmlns="http://v8.1c.ru/8.1/data-composition-system/schema" xmlns:dcscom="http://v8.1c.ru/8.1/data-composition-system/common" xmlns:dcscor="http://v8.1c.ru/8.1/data-composition-system/core" xmlns:dcsset="http://v8.1c.ru/8.1/data-composition-system/settings" xmlns:v8="http://v8.1c.ru/8.1/data/core" xmlns:v8ui="http://v8.1c.ru/8.1/data/ui" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<dataSource>
		<name>ИсточникДанных1</name>
		<dataSourceType>Local</dataSourceType>
	</dataSource>
	<dataSet xsi:type="DataSetUnion">
		<name>ОбщийНаборДанных</name>
		<field xsi:type="DataSetFieldField">
			<dataPath>ВидДокументов</dataPath>
			<field>ВидДокументов</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Вид документов</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДатаВходящегоДокумента</dataPath>
			<field>ДатаВходящегоДокумента</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Дата вх.</v8:content>
				</v8:item>
			</title>
			<appearance>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>МинимальнаяШирина</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">10</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>МаксимальнаяШирина</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">10</dcscor:value>
				</dcscor:item>
			</appearance>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ЕдиницаИзмерения</dataPath>
			<field>ЕдиницаИзмерения</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Единица измерения</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Количество</dataPath>
			<field>Количество</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Количество</v8:content>
				</v8:item>
			</title>
			<appearance>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Формат</dcscor:parameter>
					<dcscor:value xsi:type="xs:string">ЧДЦ=3</dcscor:value>
				</dcscor:item>
			</appearance>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КоличествоВОрдерах</dataPath>
			<field>КоличествоВОрдерах</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Количество в ордерах</v8:content>
				</v8:item>
			</title>
			<appearance>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Формат</dcscor:parameter>
					<dcscor:value xsi:type="xs:string">ЧДЦ=3</dcscor:value>
				</dcscor:item>
			</appearance>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Контрагент</dataPath>
			<field>Контрагент</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Контрагент</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Накладная</dataPath>
			<field>Накладная</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Накладная</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Номенклатура</dataPath>
			<field>Номенклатура</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Номенклатура</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>НомерВходящегоДокумента</dataPath>
			<field>НомерВходящегоДокумента</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Номер вх.</v8:content>
				</v8:item>
			</title>
			<appearance>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>МинимальнаяШирина</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">10</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>МаксимальнаяШирина</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">10</dcscor:value>
				</dcscor:item>
			</appearance>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>РасхождениеКоличество</dataPath>
			<field>РасхождениеКоличество</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Расхождение количество</v8:content>
				</v8:item>
			</title>
			<appearance>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Формат</dcscor:parameter>
					<dcscor:value xsi:type="xs:string">ЧДЦ=3</dcscor:value>
				</dcscor:item>
			</appearance>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>РасхождениеСумма</dataPath>
			<field>РасхождениеСумма</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Расхождение сумма</v8:content>
				</v8:item>
			</title>
			<appearance>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Формат</dcscor:parameter>
					<dcscor:value xsi:type="xs:string">ЧДЦ=2</dcscor:value>
				</dcscor:item>
			</appearance>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Склад</dataPath>
			<field>Склад</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Склад</v8:content>
				</v8:item>
			</title>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Согласовано</dataPath>
			<field>Согласовано</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Согласовано</v8:content>
				</v8:item>
			</title>
		</field>
		<item xsi:type="DataSetQuery">
			<name>Поступления</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидДокументов</dataPath>
				<field>ВидДокументов</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ДатаВходящегоДокумента</dataPath>
				<field>ДатаВходящегоДокумента</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ЕдиницаИзмерения</dataPath>
				<field>ЕдиницаИзмерения</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Количество</dataPath>
				<field>Количество</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>КоличествоВОрдерах</dataPath>
				<field>КоличествоВОрдерах</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Контрагент</dataPath>
				<field>Контрагент</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Накладная</dataPath>
				<field>Накладная</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Номенклатура</dataPath>
				<field>Номенклатура</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>НомерВходящегоДокумента</dataPath>
				<field>НомерВходящегоДокумента</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>РасхождениеКоличество</dataPath>
				<field>РасхождениеКоличество</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>РасхождениеСумма</dataPath>
				<field>РасхождениеСумма</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Склад</dataPath>
				<field>Склад</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Согласовано</dataPath>
				<field>Согласовано</field>
			</field>
			<dataSource>ИсточникДанных1</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ПоступлениеТоваровУслугТовары.Ссылка.ДатаВходящегоДокумента,
	ПоступлениеТоваровУслугТовары.Ссылка.НомерВходящегоДокумента,
	ПоступлениеТоваровУслугТовары.Ссылка КАК ПоступлениеТУ,
	ПоступлениеТоваровУслугТовары.Ссылка.Контрагент,
	ПоступлениеТоваровУслугПриходныеОрдера.ПриходныйОрдер,
	ПоступлениеТоваровУслугТовары.Номенклатура,
	ПоступлениеТоваровУслугТовары.ЕдиницаИзмерения,
	ПоступлениеТоваровУслугТовары.ПоПриходнымОрдерам,
	ПоступлениеТоваровУслугТовары.Количество,
	ПоступлениеТоваровУслугТовары.Цена
ПОМЕСТИТЬ ТаблицаПоступлений
ИЗ
	Документ.ПоступлениеТоваровУслуг.Товары КАК ПоступлениеТоваровУслугТовары
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Документ.ПоступлениеТоваровУслуг.ПриходныеОрдера КАК ПоступлениеТоваровУслугПриходныеОрдера
		ПО ПоступлениеТоваровУслугТовары.Ссылка = ПоступлениеТоваровУслугПриходныеОрдера.Ссылка
ГДЕ
	ПоступлениеТоваровУслугТовары.Ссылка.Проведен
	И ПоступлениеТоваровУслугТовары.Ссылка.Дата МЕЖДУ &amp;ДатаНачала И &amp;ДатаОкончания
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ТаблицаПоступлений.ДатаВходящегоДокумента,
	ТаблицаПоступлений.НомерВходящегоДокумента,
	ТаблицаПоступлений.ПоступлениеТУ,
	ТаблицаПоступлений.Контрагент,
	ТаблицаПоступлений.Номенклатура,
	ТаблицаПоступлений.ЕдиницаИзмерения,
	ТаблицаПоступлений.Количество,
	ТаблицаПоступлений.Цена,
	ТаблицаПоступлений.ПоПриходнымОрдерам,
	ПриходныйОрдерСкладТовары.Количество КАК КоличествоВОрдерах,
	ТаблицаПоступлений.ПриходныйОрдер.Склад КАК Склад
ПОМЕСТИТЬ ТаблицаДляГруппировкиПрихода
ИЗ
	ТаблицаПоступлений КАК ТаблицаПоступлений
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ПриходныйОрдерСклад.Товары КАК ПриходныйОрдерСкладТовары
		ПО ТаблицаПоступлений.ПриходныйОрдер = ПриходныйОрдерСкладТовары.Ссылка
			И ТаблицаПоступлений.Номенклатура = ПриходныйОрдерСкладТовары.Номенклатура
			И ТаблицаПоступлений.ЕдиницаИзмерения = ПриходныйОрдерСкладТовары.ЕдиницаИзмерения
ГДЕ
	ПриходныйОрдерСкладТовары.Ссылка.Проведен = ИСТИНА
	И ПриходныйОрдерСкладТовары.Ссылка.Отменен = ЛОЖЬ
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВложенныйЗапрос.ДатаВходящегоДокумента,
	ВложенныйЗапрос.НомерВходящегоДокумента,
	ВложенныйЗапрос.ПоступлениеТУ КАК Накладная,
	ВложенныйЗапрос.Контрагент,
	ВложенныйЗапрос.Номенклатура,
	ВложенныйЗапрос.ЕдиницаИзмерения,
	ВложенныйЗапрос.КоличествоВОрдерах,
	ВложенныйЗапрос.Количество,
	ВложенныйЗапрос.КоличествоВОрдерах - ВложенныйЗапрос.Количество КАК РасхождениеКоличество,
	(ВложенныйЗапрос.КоличествоВОрдерах - ВложенныйЗапрос.Количество) * ВложенныйЗапрос.Цена КАК РасхождениеСумма,
	ВЫБОР
		КОГДА ВложенныйЗапрос.ПоПриходнымОрдерам = ВложенныйЗапрос.КоличествоВОрдерах
			ТОГДА ИСТИНА
		ИНАЧЕ ЛОЖЬ
	КОНЕЦ КАК Согласовано,
	"Приходы от поставщика" КАК ВидДокументов,
	ВложенныйЗапрос.Склад КАК Склад
ПОМЕСТИТЬ Итоговая
ИЗ
	(ВЫБРАТЬ
		ТаблицаДляГруппировкиПрихода.ДатаВходящегоДокумента КАК ДатаВходящегоДокумента,
		ТаблицаДляГруппировкиПрихода.НомерВходящегоДокумента КАК НомерВходящегоДокумента,
		ТаблицаДляГруппировкиПрихода.ПоступлениеТУ КАК ПоступлениеТУ,
		ТаблицаДляГруппировкиПрихода.Контрагент КАК Контрагент,
		ТаблицаДляГруппировкиПрихода.Номенклатура КАК Номенклатура,
		ТаблицаДляГруппировкиПрихода.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
		МАКСИМУМ(ТаблицаДляГруппировкиПрихода.Количество) КАК Количество,
		МАКСИМУМ(ТаблицаДляГруппировкиПрихода.Цена) КАК Цена,
		МАКСИМУМ(ТаблицаДляГруппировкиПрихода.ПоПриходнымОрдерам) КАК ПоПриходнымОрдерам,
		СУММА(ТаблицаДляГруппировкиПрихода.КоличествоВОрдерах) КАК КоличествоВОрдерах,
		ТаблицаДляГруппировкиПрихода.Склад КАК Склад
	ИЗ
		ТаблицаДляГруппировкиПрихода КАК ТаблицаДляГруппировкиПрихода
	
	СГРУППИРОВАТЬ ПО
		ТаблицаДляГруппировкиПрихода.ДатаВходящегоДокумента,
		ТаблицаДляГруппировкиПрихода.НомерВходящегоДокумента,
		ТаблицаДляГруппировкиПрихода.ПоступлениеТУ,
		ТаблицаДляГруппировкиПрихода.Контрагент,
		ТаблицаДляГруппировкиПрихода.Номенклатура,
		ТаблицаДляГруппировкиПрихода.ЕдиницаИзмерения,
		ТаблицаДляГруппировкиПрихода.Склад) КАК ВложенныйЗапрос
ГДЕ
	(ВложенныйЗапрос.КоличествоВОрдерах - ВложенныйЗапрос.ПоПриходнымОрдерам &lt;&gt; 0
			ИЛИ ВложенныйЗапрос.КоличествоВОрдерах - ВложенныйЗапрос.Количество &lt;&gt; 0)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	Итоговая.ДатаВходящегоДокумента,
	Итоговая.НомерВходящегоДокумента,
	Итоговая.Накладная,
	Итоговая.Контрагент,
	Итоговая.Номенклатура,
	Итоговая.ЕдиницаИзмерения,
	Итоговая.КоличествоВОрдерах,
	Итоговая.Количество,
	Итоговая.РасхождениеКоличество,
	Итоговая.РасхождениеСумма,
	Итоговая.Согласовано,
	Итоговая.ВидДокументов,
	Итоговая.Склад
ИЗ
	Итоговая КАК Итоговая
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
			ТаблицаДляГруппировкиПрихода.ПоступлениеТУ КАК ПоступлениеТУ,
			ТаблицаДляГруппировкиПрихода.Контрагент КАК Контрагент,
			ТаблицаДляГруппировкиПрихода.Номенклатура КАК Номенклатура,
			ТаблицаДляГруппировкиПрихода.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
			СУММА(ТаблицаДляГруппировкиПрихода.КоличествоВОрдерах) КАК КоличествоВОрдерах
		ИЗ
			ТаблицаДляГруппировкиПрихода КАК ТаблицаДляГруппировкиПрихода
		
		СГРУППИРОВАТЬ ПО
			ТаблицаДляГруппировкиПрихода.ПоступлениеТУ,
			ТаблицаДляГруппировкиПрихода.Контрагент,
			ТаблицаДляГруппировкиПрихода.Номенклатура,
			ТаблицаДляГруппировкиПрихода.ЕдиницаИзмерения) КАК ВложенныйЗапрос
		ПО Итоговая.Накладная = ВложенныйЗапрос.ПоступлениеТУ
			И Итоговая.Контрагент = ВложенныйЗапрос.Контрагент
			И Итоговая.Номенклатура = ВложенныйЗапрос.Номенклатура
			И Итоговая.ЕдиницаИзмерения = ВложенныйЗапрос.ЕдиницаИзмерения
ГДЕ
	Итоговая.Количество - ВложенныйЗапрос.КоличествоВОрдерах &lt;&gt; 0</query>
		</item>
		<item xsi:type="DataSetQuery">
			<name>Возвраты</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидДокументов</dataPath>
				<field>ВидДокументов</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ЕдиницаИзмерения</dataPath>
				<field>ЕдиницаИзмерения</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Количество</dataPath>
				<field>Количество</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>КоличествоВОрдерах</dataPath>
				<field>КоличествоВОрдерах</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Контрагент</dataPath>
				<field>Контрагент</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Накладная</dataPath>
				<field>Накладная</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Номенклатура</dataPath>
				<field>Номенклатура</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>РасхождениеКоличество</dataPath>
				<field>РасхождениеКоличество</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>РасхождениеСумма</dataPath>
				<field>РасхождениеСумма</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Склад</dataPath>
				<field>Склад</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Согласовано</dataPath>
				<field>Согласовано</field>
			</field>
			<dataSource>ИсточникДанных1</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВозвратТоваровПоставщикуТовары.Ссылка КАК Накладная,
	ВозвратТоваровПоставщикуТовары.Ссылка.Контрагент КАК Контрагент,
	ВозвратТоваровПоставщикуРасходныеОрдера.РасходныйОрдер,
	ВозвратТоваровПоставщикуТовары.Номенклатура,
	ВозвратТоваровПоставщикуТовары.ЕдиницаИзмерения,
	ВозвратТоваровПоставщикуТовары.ПоРасходнымОрдерам,
	ВозвратТоваровПоставщикуТовары.Количество,
	ВозвратТоваровПоставщикуТовары.Цена
ПОМЕСТИТЬ ТаблицаВозвратов
ИЗ
	Документ.ВозвратТоваровПоставщику.Товары КАК ВозвратТоваровПоставщикуТовары
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Документ.ВозвратТоваровПоставщику.РасходныеОрдера КАК ВозвратТоваровПоставщикуРасходныеОрдера
		ПО ВозвратТоваровПоставщикуТовары.Ссылка = ВозвратТоваровПоставщикуРасходныеОрдера.Ссылка
ГДЕ
	ВозвратТоваровПоставщикуТовары.Ссылка.Проведен
	И ВозвратТоваровПоставщикуТовары.Ссылка.Дата МЕЖДУ &amp;ДатаНачала И &amp;ДатаОкончания
	И НЕ ВозвратТоваровПоставщикуРасходныеОрдера.РасходныйОрдер.Статус = ЗНАЧЕНИЕ(Перечисление.СтатусыРасходныхОрдеров.Отменен)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ТаблицаВозвратов.Накладная,
	ТаблицаВозвратов.Контрагент,
	ТаблицаВозвратов.РасходныйОрдер,
	ТаблицаВозвратов.Номенклатура,
	ТаблицаВозвратов.ЕдиницаИзмерения,
	ТаблицаВозвратов.ПоРасходнымОрдерам,
	ТаблицаВозвратов.Количество,
	ТаблицаВозвратов.Цена,
	РасходныйОрдерСкладТовары.Количество КАК КоличествоВОрдерах,
	РасходныйОрдерСкладТовары.Ссылка.Склад
ПОМЕСТИТЬ ТаблицаДляСверткиВозвратов
ИЗ
	ТаблицаВозвратов КАК ТаблицаВозвратов
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.РасходныйОрдерСклад.Товары КАК РасходныйОрдерСкладТовары
		ПО ТаблицаВозвратов.РасходныйОрдер = РасходныйОрдерСкладТовары.Ссылка
			И ТаблицаВозвратов.Номенклатура = РасходныйОрдерСкладТовары.Номенклатура
			И ТаблицаВозвратов.ЕдиницаИзмерения = РасходныйОрдерСкладТовары.ЕдиницаИзмерения
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВложенныйЗапросВозвраты.Накладная,
	ВложенныйЗапросВозвраты.Контрагент,
	ВложенныйЗапросВозвраты.Номенклатура,
	ВложенныйЗапросВозвраты.ЕдиницаИзмерения,
	ВложенныйЗапросВозвраты.КоличествоВОрдерах,
	ВложенныйЗапросВозвраты.Количество,
	ВложенныйЗапросВозвраты.КоличествоВОрдерах - ВложенныйЗапросВозвраты.Количество КАК РасхождениеКоличество,
	(ВложенныйЗапросВозвраты.КоличествоВОрдерах - ВложенныйЗапросВозвраты.Количество) * ВложенныйЗапросВозвраты.Цена КАК РасхождениеСумма,
	ВЫБОР
		КОГДА ВложенныйЗапросВозвраты.ПоРасходнымОрдерам = ВложенныйЗапросВозвраты.КоличествоВОрдерах
			ТОГДА ИСТИНА
		ИНАЧЕ ЛОЖЬ
	КОНЕЦ КАК Согласовано,
	"Возвраты поставщику" КАК ВидДокументов,
	ВложенныйЗапросВозвраты.Склад
ИЗ
	(ВЫБРАТЬ
		ТаблицаДляСверткиВозвратов.Накладная КАК Накладная,
		ТаблицаДляСверткиВозвратов.Контрагент КАК Контрагент,
		ТаблицаДляСверткиВозвратов.Номенклатура КАК Номенклатура,
		ТаблицаДляСверткиВозвратов.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
		МАКСИМУМ(ТаблицаДляСверткиВозвратов.ПоРасходнымОрдерам) КАК ПоРасходнымОрдерам,
		МАКСИМУМ(ТаблицаДляСверткиВозвратов.Количество) КАК Количество,
		МАКСИМУМ(ТаблицаДляСверткиВозвратов.Цена) КАК Цена,
		СУММА(ТаблицаДляСверткиВозвратов.КоличествоВОрдерах) КАК КоличествоВОрдерах,
		МАКСИМУМ(ТаблицаДляСверткиВозвратов.Склад) КАК Склад
	ИЗ
		ТаблицаДляСверткиВозвратов КАК ТаблицаДляСверткиВозвратов
	
	СГРУППИРОВАТЬ ПО
		ТаблицаДляСверткиВозвратов.Накладная,
		ТаблицаДляСверткиВозвратов.Контрагент,
		ТаблицаДляСверткиВозвратов.Номенклатура,
		ТаблицаДляСверткиВозвратов.ЕдиницаИзмерения) КАК ВложенныйЗапросВозвраты
ГДЕ
	(ВложенныйЗапросВозвраты.КоличествоВОрдерах - ВложенныйЗапросВозвраты.ПоРасходнымОрдерам &lt;&gt; 0
			ИЛИ ВложенныйЗапросВозвраты.КоличествоВОрдерах - ВложенныйЗапросВозвраты.Количество &lt;&gt; 0)</query>
		</item>
		<item xsi:type="DataSetQuery">
			<name>ОтгрузкаУтилизацияСкладскиеНужды</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>ЕдиницаИзмерения</dataPath>
				<field>ЕдиницаИзмерения</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Номенклатура</dataPath>
				<field>Номенклатура</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Склад</dataPath>
				<field>Склад</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ДатаВходящегоДокумента</dataPath>
				<field>ДатаВходящегоДокумента</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>НомерВходящегоДокумента</dataPath>
				<field>НомерВходящегоДокумента</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Контрагент</dataPath>
				<field>Контрагент</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>КоличествоВОрдерах</dataPath>
				<field>КоличествоВОрдерах</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Количество</dataPath>
				<field>Количество</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>РасхождениеКоличество</dataPath>
				<field>РасхождениеКоличество</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>РасхождениеСумма</dataPath>
				<field>РасхождениеСумма</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Согласовано</dataPath>
				<field>Согласовано</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидДокументов</dataPath>
				<field>ВидДокументов</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Накладная</dataPath>
				<field>Накладная</field>
			</field>
			<dataSource>ИсточникДанных1</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ДАТАВРЕМЯ(1, 1, 1) КАК ДатаВходящегоДокумента,
	"" КАК НомерВходящегоДокумента,
	РасходныйОрдерСкладТовары.Ссылка КАК Накладная,
	РасходныйОрдерСкладТовары.Ссылка.Получатель КАК Контрагент,
	РасходныйОрдерСкладТовары.Номенклатура КАК Номенклатура,
	РасходныйОрдерСкладТовары.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	СУММА(РасходныйОрдерСкладТовары.Количество) КАК КоличествоВОрдерах,
	СУММА(0) КАК Количество,
	СУММА(РасходныйОрдерСкладТовары.Количество) КАК РасхождениеКоличество,
	СУММА(0) КАК РасхождениеСумма,
	ЛОЖЬ КАК Согласовано,
	ВЫБОР
		КОГДА РасходныйОрдерСкладТовары.Ссылка.ВидОперации = ЗНАЧЕНИЕ(Перечисление.ВидыОперацийРасходСкладскойУчет.ОтгрузкаТехнологу)
			ТОГДА "Отгрузка технологу"
		КОГДА РасходныйОрдерСкладТовары.Ссылка.ВидОперации = ЗНАЧЕНИЕ(Перечисление.ВидыОперацийРасходСкладскойУчет.СписаниеНаНуждыСклада)
			ТОГДА "Списание  на нужды склада"
		КОГДА РасходныйОрдерСкладТовары.Ссылка.ВидОперации = ЗНАЧЕНИЕ(Перечисление.ВидыОперацийРасходСкладскойУчет.СписаниеНаПитаниеСотрудниковСклада)
			ТОГДА "Списание  на питание сотрудников склада"
		ИНАЧЕ "Утилизация"
	КОНЕЦ КАК ВидДокументов,
	РасходныйОрдерСкладТовары.Ссылка.Склад КАК Склад
ИЗ
	Документ.РасходныйОрдерСклад.Товары КАК РасходныйОрдерСкладТовары
ГДЕ
	РасходныйОрдерСкладТовары.Ссылка.Проведен
	И ВЫБОР
			КОГДА РасходныйОрдерСкладТовары.Ссылка.ДатаРаспределения = ДАТАВРЕМЯ(1, 1, 1)
				ТОГДА РасходныйОрдерСкладТовары.Ссылка.Дата МЕЖДУ &amp;ДатаНачала И &amp;ДатаОкончания
			ИНАЧЕ РасходныйОрдерСкладТовары.Ссылка.ДатаРаспределения МЕЖДУ &amp;ДатаНачала И &amp;ДатаОкончания
		КОНЕЦ
	И РасходныйОрдерСкладТовары.Ссылка.ВидОперации В (ЗНАЧЕНИЕ(Перечисление.ВидыОперацийРасходСкладскойУчет.ОтгрузкаТехнологу), ЗНАЧЕНИЕ(Перечисление.ВидыОперацийРасходСкладскойУчет.Утилизация), ЗНАЧЕНИЕ(Перечисление.ВидыОперацийРасходСкладскойУчет.УтилизацияБой), ЗНАЧЕНИЕ(Перечисление.ВидыОперацийРасходСкладскойУчет.СписаниеНаНуждыСклада), ЗНАЧЕНИЕ(Перечисление.ВидыОперацийРасходСкладскойУчет.СписаниеНаПитаниеСотрудниковСклада))
	И НЕ РасходныйОрдерСкладТовары.Ссылка.ПризкакПодтвержденияВФинУчете
	И НЕ РасходныйОрдерСкладТовары.Ссылка.Статус = ЗНАЧЕНИЕ(Перечисление.СтатусыРасходныхОрдеров.Отменен)

СГРУППИРОВАТЬ ПО
	РасходныйОрдерСкладТовары.Ссылка,
	РасходныйОрдерСкладТовары.Ссылка.Получатель,
	РасходныйОрдерСкладТовары.Номенклатура,
	РасходныйОрдерСкладТовары.ЕдиницаИзмерения,
	РасходныйОрдерСкладТовары.Ссылка.Склад,
	ВЫБОР
		КОГДА РасходныйОрдерСкладТовары.Ссылка.ВидОперации = ЗНАЧЕНИЕ(Перечисление.ВидыОперацийРасходСкладскойУчет.ОтгрузкаТехнологу)
			ТОГДА "Отгрузка технологу"
		КОГДА РасходныйОрдерСкладТовары.Ссылка.ВидОперации = ЗНАЧЕНИЕ(Перечисление.ВидыОперацийРасходСкладскойУчет.СписаниеНаНуждыСклада)
			ТОГДА "Списание  на нужды склада"
		КОГДА РасходныйОрдерСкладТовары.Ссылка.ВидОперации = ЗНАЧЕНИЕ(Перечисление.ВидыОперацийРасходСкладскойУчет.СписаниеНаПитаниеСотрудниковСклада)
			ТОГДА "Списание  на питание сотрудников склада"
		ИНАЧЕ "Утилизация"
	КОНЕЦ</query>
		</item>
		<item xsi:type="DataSetQuery">
			<name>Реализация</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидДокументов</dataPath>
				<field>ВидДокументов</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ЕдиницаИзмерения</dataPath>
				<field>ЕдиницаИзмерения</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Количество</dataPath>
				<field>Количество</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>КоличествоВОрдерах</dataPath>
				<field>КоличествоВОрдерах</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Контрагент</dataPath>
				<field>Контрагент</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Накладная</dataPath>
				<field>Накладная</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Номенклатура</dataPath>
				<field>Номенклатура</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>РасхождениеКоличество</dataPath>
				<field>РасхождениеКоличество</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>РасхождениеСумма</dataPath>
				<field>РасхождениеСумма</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Склад</dataPath>
				<field>Склад</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Согласовано</dataPath>
				<field>Согласовано</field>
			</field>
			<dataSource>ИсточникДанных1</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	Таблица.Ссылка КАК Накладная,
	Таблица.Ссылка.Контрагент КАК Контрагент,
	Таблица.Номенклатура,
	Таблица.ЕдиницаИзмерения,
	СУММА(Таблица.ПоРасходнымОрдерам) КАК ПоРасходнымОрдерам,
	СУММА(Таблица.Количество) КАК Количество,
	СРЕДНЕЕ(Таблица.Цена) КАК Цена
ПОМЕСТИТЬ ТЗ_Реализации
ИЗ
	Документ.РеализацияТоваровУслуг.Товары КАК Таблица
ГДЕ
	Таблица.Ссылка.Проведен
	И Таблица.Ссылка.Дата МЕЖДУ &amp;ДатаНачала И &amp;ДатаОкончания
	И НЕ Таблица.Ссылка.ПродажиКурьеров

СГРУППИРОВАТЬ ПО
	Таблица.Ссылка,
	Таблица.Ссылка.Контрагент,
	Таблица.Номенклатура,
	Таблица.ЕдиницаИзмерения
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	Таблица.Ссылка КАК Накладная,
	Таблица.Ссылка.Контрагент КАК Контрагент,
	РасходныйОрдерСкладТовары.Номенклатура,
	РасходныйОрдерСкладТовары.ЕдиницаИзмерения,
	МАКСИМУМ(РасходныйОрдерСкладТовары.Ссылка.Склад) КАК Склад,
	СУММА(РасходныйОрдерСкладТовары.Количество) КАК Количество,
	РасходныйОрдерСкладТовары.Характеристика,
	ВЫБОР
		КОГДА ВЫРАЗИТЬ(РасходныйОрдерСкладТовары.Ссылка.Получатель КАК Справочник.СтруктурныеЕдиницы).ТипРозничнойТочки = ЗНАЧЕНИЕ(Перечисление.ТипыРозничныхТочек.Вкусомат)
			ТОГДА РасходныйОрдерСкладТовары.Номенклатура.ЭтоКомплект
		ИНАЧЕ ЛОЖЬ
	КОНЕЦ КАК ЭтоКомплект
ПОМЕСТИТЬ ТЗ_РасходныеОрдера
ИЗ
	Документ.РеализацияТоваровУслуг.РасходныеОрдера КАК Таблица
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Документ.РасходныйОрдерСклад.Товары КАК РасходныйОрдерСкладТовары
		ПО Таблица.РасходныйОрдер = РасходныйОрдерСкладТовары.Ссылка
			И (РасходныйОрдерСкладТовары.Ссылка.Проведен)
			И (РасходныйОрдерСкладТовары.Ссылка.Статус = ЗНАЧЕНИЕ(Перечисление.СтатусыРасходныхОрдеров.ВСборке))
ГДЕ
	Таблица.Ссылка В
			(ВЫБРАТЬ РАЗЛИЧНЫЕ
				Таблица.Накладная
			ИЗ
				ТЗ_Реализации КАК Таблица)

СГРУППИРОВАТЬ ПО
	Таблица.Ссылка,
	РасходныйОрдерСкладТовары.Номенклатура,
	РасходныйОрдерСкладТовары.ЕдиницаИзмерения,
	Таблица.Ссылка.Контрагент,
	РасходныйОрдерСкладТовары.Характеристика,
	ВЫБОР
		КОГДА ВЫРАЗИТЬ(РасходныйОрдерСкладТовары.Ссылка.Получатель КАК Справочник.СтруктурныеЕдиницы).ТипРозничнойТочки = ЗНАЧЕНИЕ(Перечисление.ТипыРозничныхТочек.Вкусомат)
			ТОГДА РасходныйОрдерСкладТовары.Номенклатура.ЭтоКомплект
		ИНАЧЕ ЛОЖЬ
	КОНЕЦ
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ТЗ_РасходныеОрдера.Накладная,
	ТЗ_РасходныеОрдера.Контрагент,
	ТЗ_РасходныеОрдера.Склад,
	ТЗ_РасходныеОрдера.Количество,
	СоставКомплекта.Характеристика,
	СоставКомплекта.Составляющая,
	СоставКомплекта.Комплект,
	МАКСИМУМ(СоставКомплекта.Период) КАК Период
ПОМЕСТИТЬ ВТСоставКомплектаПериод
ИЗ
	ТЗ_РасходныеОрдера КАК ТЗ_РасходныеОрдера
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.СоставКомплекта КАК СоставКомплекта
		ПО ТЗ_РасходныеОрдера.Номенклатура = СоставКомплекта.Комплект
			И ТЗ_РасходныеОрдера.Характеристика = СоставКомплекта.Характеристика
			И ТЗ_РасходныеОрдера.Накладная.Дата &gt;= СоставКомплекта.Период
			И (ТЗ_РасходныеОрдера.ЭтоКомплект)

СГРУППИРОВАТЬ ПО
	ТЗ_РасходныеОрдера.Накладная,
	ТЗ_РасходныеОрдера.Контрагент,
	ТЗ_РасходныеОрдера.Склад,
	ТЗ_РасходныеОрдера.Количество,
	СоставКомплекта.Характеристика,
	СоставКомплекта.Составляющая,
	СоставКомплекта.Комплект
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВТСоставКомплектаПериод.Накладная,
	ВТСоставКомплектаПериод.Контрагент,
	ВТСоставКомплектаПериод.Склад,
	СоставКомплекта.ТоварКомплекта,
	СоставКомплекта.ТоварКомплекта.ЕдиницаХраненияОстатков КАК ЕдиницаИзмерения,
	СоставКомплекта.Количество * ВТСоставКомплектаПериод.Количество КАК Количество
ПОМЕСТИТЬ ВТТоварыБезКомплектов
ИЗ
	ВТСоставКомплектаПериод КАК ВТСоставКомплектаПериод
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.СоставКомплекта КАК СоставКомплекта
		ПО ВТСоставКомплектаПериод.Комплект = СоставКомплекта.Комплект
			И ВТСоставКомплектаПериод.Характеристика = СоставКомплекта.Характеристика
			И ВТСоставКомплектаПериод.Составляющая = СоставКомплекта.Составляющая
			И ВТСоставКомплектаПериод.Период = СоставКомплекта.Период
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	Подзапрос.Накладная,
	Подзапрос.Контрагент,
	Подзапрос.Номенклатура,
	Подзапрос.ЕдиницаИзмерения,
	МАКСИМУМ(Подзапрос.Склад) КАК Склад,
	СУММА(Подзапрос.Количество) КАК Количество
ПОМЕСТИТЬ ВТРасходныеОрдера
ИЗ
	(ВЫБРАТЬ
		ТЗ_РасходныеОрдера.Накладная КАК Накладная,
		ТЗ_РасходныеОрдера.Контрагент КАК Контрагент,
		ТЗ_РасходныеОрдера.Склад КАК Склад,
		ТЗ_РасходныеОрдера.Номенклатура КАК Номенклатура,
		ТЗ_РасходныеОрдера.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
		ТЗ_РасходныеОрдера.Количество КАК Количество
	ИЗ
		ТЗ_РасходныеОрдера КАК ТЗ_РасходныеОрдера
	ГДЕ
		НЕ ТЗ_РасходныеОрдера.ЭтоКомплект
	
	ОБЪЕДИНИТЬ ВСЕ
	
	ВЫБРАТЬ
		ВТТоварыБезКомплектов.Накладная,
		ВТТоварыБезКомплектов.Контрагент,
		ВТТоварыБезКомплектов.Склад,
		ВТТоварыБезКомплектов.ТоварКомплекта,
		ВТТоварыБезКомплектов.ЕдиницаИзмерения,
		ВТТоварыБезКомплектов.Количество
	ИЗ
		ВТТоварыБезКомплектов КАК ВТТоварыБезКомплектов) КАК Подзапрос

СГРУППИРОВАТЬ ПО
	Подзапрос.Накладная,
	Подзапрос.Контрагент,
	Подзапрос.Номенклатура,
	Подзапрос.ЕдиницаИзмерения
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ЕСТЬNULL(ТЗ_Реализации.Накладная, ТЗ_РасходныеОрдера.Накладная) КАК Накладная,
	ЕСТЬNULL(ТЗ_Реализации.Контрагент, ТЗ_РасходныеОрдера.Контрагент) КАК Контрагент,
	ЕСТЬNULL(ТЗ_Реализации.Номенклатура, ТЗ_РасходныеОрдера.Номенклатура) КАК Номенклатура,
	ЕСТЬNULL(ТЗ_Реализации.ЕдиницаИзмерения, ТЗ_РасходныеОрдера.ЕдиницаИзмерения) КАК ЕдиницаИзмерения,
	ЕСТЬNULL(ТЗ_Реализации.ПоРасходнымОрдерам, 0) КАК ПоРасходнымОрдерам,
	ЕСТЬNULL(ТЗ_Реализации.Количество, 0) КАК Количество,
	ЕСТЬNULL(ТЗ_Реализации.Цена, 0) КАК Цена,
	ЕСТЬNULL(ТЗ_РасходныеОрдера.Количество, 0) КАК КоличествоВОрдерах,
	ЕСТЬNULL(ТЗ_РасходныеОрдера.Склад, 0) КАК Склад
ПОМЕСТИТЬ ТЗ
ИЗ
	ТЗ_Реализации КАК ТЗ_Реализации
		ПОЛНОЕ СОЕДИНЕНИЕ ВТРасходныеОрдера КАК ТЗ_РасходныеОрдера
		ПО ТЗ_Реализации.Накладная = ТЗ_РасходныеОрдера.Накладная
			И ТЗ_Реализации.Номенклатура = ТЗ_РасходныеОрдера.Номенклатура
			И ТЗ_Реализации.ЕдиницаИзмерения = ТЗ_РасходныеОрдера.ЕдиницаИзмерения
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	"Реализация товаров" КАК ВидДокументов,
	ТЗ.Накладная КАК Накладная,
	ТЗ.Контрагент КАК Контрагент,
	ТЗ.Склад КАК Склад,
	ТЗ.Номенклатура КАК Номенклатура,
	ТЗ.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	ТЗ.КоличествоВОрдерах КАК КоличествоВОрдерах,
	ТЗ.Количество КАК Количество,
	ТЗ.КоличествоВОрдерах - ТЗ.Количество КАК РасхождениеКоличество,
	(ТЗ.КоличествоВОрдерах - ТЗ.Количество) * ТЗ.Цена КАК РасхождениеСумма,
	ВЫБОР
		КОГДА ТЗ.ПоРасходнымОрдерам = ТЗ.КоличествоВОрдерах
			ТОГДА ИСТИНА
		ИНАЧЕ ЛОЖЬ
	КОНЕЦ КАК Согласовано
ИЗ
	ТЗ КАК ТЗ
ГДЕ
	(ТЗ.КоличествоВОрдерах - ТЗ.ПоРасходнымОрдерам &lt;&gt; 0
			ИЛИ ТЗ.КоличествоВОрдерах - ТЗ.Количество &lt;&gt; 0)</query>
		</item>
		<item xsi:type="DataSetQuery">
			<name>ПриходникиБезПоступлений</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>ЕдиницаИзмерения</dataPath>
				<field>ЕдиницаИзмерения</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Количество</dataPath>
				<field>Количество</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Номенклатура</dataPath>
				<field>Номенклатура</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Склад</dataPath>
				<field>Склад</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ДатаВходящегоДокумента</dataPath>
				<field>ДатаВходящегоДокумента</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>НомерВходящегоДокумента</dataPath>
				<field>НомерВходящегоДокумента</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Контрагент</dataPath>
				<field>Контрагент</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>КоличествоВОрдерах</dataPath>
				<field>КоличествоВОрдерах</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>РасхождениеКоличество</dataPath>
				<field>РасхождениеКоличество</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>РасхождениеСумма</dataPath>
				<field>РасхождениеСумма</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Согласовано</dataPath>
				<field>Согласовано</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидДокументов</dataPath>
				<field>ВидДокументов</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Накладная</dataPath>
				<field>Накладная</field>
			</field>
			<dataSource>ИсточникДанных1</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ПриходныйОрдерСкладТовары.Ссылка.ДатаДокументаПоставщика КАК ДатаВходящегоДокумента,
	ПриходныйОрдерСкладТовары.Ссылка.НомерДокументаПоставщика КАК НомерВходящегоДокумента,
	ПриходныйОрдерСкладТовары.Ссылка КАК Накладная,
	ПриходныйОрдерСкладТовары.Ссылка.Поставщик КАК Контрагент,
	ПриходныйОрдерСкладТовары.Номенклатура КАК Номенклатура,
	ПриходныйОрдерСкладТовары.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	СУММА(ПриходныйОрдерСкладТовары.Количество) КАК КоличествоВОрдерах,
	СУММА(0) КАК Количество,
	СУММА(ПриходныйОрдерСкладТовары.Количество) КАК РасхождениеКоличество,
	СУММА(0) КАК РасхождениеСумма,
	ЛОЖЬ КАК Согласовано,
	"Приходы от поставщика" КАК ВидДокументов,
	ПриходныйОрдерСкладТовары.Ссылка.Склад КАК Склад
ИЗ
	Документ.ПриходныйОрдерСклад.Товары КАК ПриходныйОрдерСкладТовары
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ПоступлениеТоваровУслуг.ПриходныеОрдера КАК ПоступлениеТоваровУслугПриходныеОрдера
		ПО ПриходныйОрдерСкладТовары.Ссылка = ПоступлениеТоваровУслугПриходныеОрдера.ПриходныйОрдер
			И (ПоступлениеТоваровУслугПриходныеОрдера.Ссылка.Проведен)
ГДЕ
	ПоступлениеТоваровУслугПриходныеОрдера.Ссылка ЕСТЬ NULL 
	И ПриходныйОрдерСкладТовары.Ссылка.ВидОперации = ЗНАЧЕНИЕ(Перечисление.ВидыОперацийПриходСкладскойУчет.ОтПоставщика)
	И ПриходныйОрдерСкладТовары.Ссылка.Проведен
	И ПриходныйОрдерСкладТовары.Ссылка.Отменен = Ложь
	И ПриходныйОрдерСкладТовары.Ссылка.Дата МЕЖДУ &amp;ДатаНачала И &amp;ДатаОкончания

СГРУППИРОВАТЬ ПО
	ПриходныйОрдерСкладТовары.Ссылка.ДатаДокументаПоставщика,
	ПриходныйОрдерСкладТовары.Ссылка.НомерДокументаПоставщика,
	ПриходныйОрдерСкладТовары.Ссылка,
	ПриходныйОрдерСкладТовары.Ссылка.Поставщик,
	ПриходныйОрдерСкладТовары.Номенклатура,
	ПриходныйОрдерСкладТовары.ЕдиницаИзмерения,
	ПриходныйОрдерСкладТовары.Ссылка.Склад</query>
		</item>
		<item xsi:type="DataSetQuery">
			<name>РасходникиБезВозвратов</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>ЕдиницаИзмерения</dataPath>
				<field>ЕдиницаИзмерения</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Количество</dataPath>
				<field>Количество</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Номенклатура</dataPath>
				<field>Номенклатура</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Склад</dataPath>
				<field>Склад</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Контрагент</dataPath>
				<field>Контрагент</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Накладная</dataPath>
				<field>Накладная</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>КоличествоВОрдерах</dataPath>
				<field>КоличествоВОрдерах</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>РасхождениеКоличество</dataPath>
				<field>РасхождениеКоличество</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>РасхождениеСумма</dataPath>
				<field>РасхождениеСумма</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Согласовано</dataPath>
				<field>Согласовано</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидДокументов</dataPath>
				<field>ВидДокументов</field>
			</field>
			<dataSource>ИсточникДанных1</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	РасходныйОрдерСкладТовары.Ссылка КАК Накладная,
	РасходныйОрдерСкладТовары.Ссылка.Получатель КАК Контрагент,
	РасходныйОрдерСкладТовары.Номенклатура КАК Номенклатура,
	РасходныйОрдерСкладТовары.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	СУММА(РасходныйОрдерСкладТовары.Количество) КАК КоличествоВОрдерах,
	СУММА(0) КАК Количество,
	СУММА(РасходныйОрдерСкладТовары.Количество) КАК РасхождениеКоличество,
	СУММА(0) КАК РасхождениеСумма,
	ЛОЖЬ КАК Согласовано,
	"Возвраты поставщику" КАК ВидДокументов,
	РасходныйОрдерСкладТовары.Ссылка.Склад КАК Склад
ИЗ
	Документ.РасходныйОрдерСклад.Товары КАК РасходныйОрдерСкладТовары
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ВозвратТоваровПоставщику.РасходныеОрдера КАК ВозвратТоваровПоставщикуРасходныеОрдера
		ПО РасходныйОрдерСкладТовары.Ссылка = ВозвратТоваровПоставщикуРасходныеОрдера.РасходныйОрдер
			И (ВозвратТоваровПоставщикуРасходныеОрдера.Ссылка.Проведен)
ГДЕ
	ВозвратТоваровПоставщикуРасходныеОрдера.Ссылка ЕСТЬ NULL
	И РасходныйОрдерСкладТовары.Ссылка.Проведен
	И ВЫБОР
			КОГДА РасходныйОрдерСкладТовары.Ссылка.ДатаРаспределения = ДАТАВРЕМЯ(1, 1, 1)
				ТОГДА РасходныйОрдерСкладТовары.Ссылка.Дата МЕЖДУ &amp;ДатаНачала И &amp;ДатаОкончания
			ИНАЧЕ РасходныйОрдерСкладТовары.Ссылка.ДатаРаспределения МЕЖДУ &amp;ДатаНачала И &amp;ДатаОкончания
		КОНЕЦ
	И РасходныйОрдерСкладТовары.Ссылка.ВидОперации = ЗНАЧЕНИЕ(Перечисление.ВидыОперацийРасходСкладскойУчет.ВозвратПоставщику)
	И НЕ РасходныйОрдерСкладТовары.Ссылка.Статус = ЗНАЧЕНИЕ(Перечисление.СтатусыРасходныхОрдеров.Отменен)

СГРУППИРОВАТЬ ПО
	РасходныйОрдерСкладТовары.Ссылка,
	РасходныйОрдерСкладТовары.Ссылка.Получатель,
	РасходныйОрдерСкладТовары.Номенклатура,
	РасходныйОрдерСкладТовары.ЕдиницаИзмерения,
	РасходныйОрдерСкладТовары.Ссылка.Склад</query>
		</item>
		<item xsi:type="DataSetQuery">
			<name>РасходникиБезРеализации</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>ЕдиницаИзмерения</dataPath>
				<field>ЕдиницаИзмерения</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Количество</dataPath>
				<field>Количество</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Контрагент</dataPath>
				<field>Контрагент</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Накладная</dataPath>
				<field>Накладная</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Номенклатура</dataPath>
				<field>Номенклатура</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Склад</dataPath>
				<field>Склад</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>КоличествоВОрдерах</dataPath>
				<field>КоличествоВОрдерах</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>РасхождениеКоличество</dataPath>
				<field>РасхождениеКоличество</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>РасхождениеСумма</dataPath>
				<field>РасхождениеСумма</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Согласовано</dataPath>
				<field>Согласовано</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидДокументов</dataPath>
				<field>ВидДокументов</field>
			</field>
			<dataSource>ИсточникДанных1</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
	РасходныйОрдерСклад.Ссылка КАК Накладная
ПОМЕСТИТЬ втРОбезРТУ
ИЗ
	Документ.РасходныйОрдерСклад КАК РасходныйОрдерСклад
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.РеализацияТоваровУслуг.РасходныеОрдера КАК РеализацияТоваровУслугРасходныеОрдера
		ПО РасходныйОрдерСклад.Ссылка = РеализацияТоваровУслугРасходныеОрдера.РасходныйОрдер
			И (РеализацияТоваровУслугРасходныеОрдера.Ссылка.Проведен)
ГДЕ
	РеализацияТоваровУслугРасходныеОрдера.Ссылка ЕСТЬ NULL
	И РасходныйОрдерСклад.Проведен
	И ВЫБОР
			КОГДА РасходныйОрдерСклад.ДатаРаспределения = ДАТАВРЕМЯ(1, 1, 1)
				ТОГДА РасходныйОрдерСклад.Дата МЕЖДУ &amp;ДатаНачала И &amp;ДатаОкончания
			ИНАЧЕ РасходныйОрдерСклад.ДатаРаспределения МЕЖДУ &amp;ДатаНачала И &amp;ДатаОкончания
		КОНЕЦ
	И (РасходныйОрдерСклад.ВидОперации = ЗНАЧЕНИЕ(Перечисление.ВидыОперацийРасходСкладскойУчет.Реализация)
			ИЛИ РасходныйОрдерСклад.ВидОперации = ЗНАЧЕНИЕ(Перечисление.ВидыОперацийРасходСкладскойУчет.ОтгрузкаВТорговуюТочку)
				И РасходныйОрдерСклад.Организация.Код = "000000009")
	И РасходныйОрдерСклад.Статус &lt;&gt; ЗНАЧЕНИЕ(Перечисление.СтатусыРасходныхОрдеров.Отменен)

ИНДЕКСИРОВАТЬ ПО
	Накладная
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	РасходныйОрдерСкладТовары.Ссылка КАК Накладная,
	РасходныйОрдерСкладТовары.Номенклатура КАК Номенклатура,
	РасходныйОрдерСкладТовары.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	СУММА(РасходныйОрдерСкладТовары.Количество) КАК Количество
ПОМЕСТИТЬ втТоварыРО
ИЗ
	втРОбезРТУ КАК втРОбезРТУ
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Документ.РасходныйОрдерСклад.Товары КАК РасходныйОрдерСкладТовары
		ПО втРОбезРТУ.Накладная = РасходныйОрдерСкладТовары.Ссылка

СГРУППИРОВАТЬ ПО
	РасходныйОрдерСкладТовары.Ссылка,
	РасходныйОрдерСкладТовары.Номенклатура,
	РасходныйОрдерСкладТовары.ЕдиницаИзмерения

ИНДЕКСИРОВАТЬ ПО
	Накладная,
	Номенклатура,
	ЕдиницаИзмерения
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	втТоварыРО.Накладная КАК Накладная,
	втТоварыРО.Номенклатура КАК Номенклатура,
	втТоварыРО.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	СУММА(ЕСТЬNULL(ПриходныйОрдерСкладТовары.Количество, 0)) КАК КоличествоВозврат
ПОМЕСТИТЬ втВозвратПоРО
ИЗ
	втТоварыРО КАК втТоварыРО
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ПриходныйОрдерСклад.Товары КАК ПриходныйОрдерСкладТовары
		ПО втТоварыРО.Накладная = ПриходныйОрдерСкладТовары.Ссылка.Основание
			И втТоварыРО.Номенклатура = ПриходныйОрдерСкладТовары.Номенклатура
			И втТоварыРО.ЕдиницаИзмерения = ПриходныйОрдерСкладТовары.ЕдиницаИзмерения
			И (ПриходныйОрдерСкладТовары.Ссылка.ВидОперации = ЗНАЧЕНИЕ(Перечисление.ВидыОперацийПриходСкладскойУчет.ИзТорговойТочки))
			И (ПриходныйОрдерСкладТовары.Ссылка.Проведен)
			И (НЕ ПриходныйОрдерСкладТовары.Ссылка.Отменен)

СГРУППИРОВАТЬ ПО
	втТоварыРО.Накладная,
	втТоварыРО.Номенклатура,
	втТоварыРО.ЕдиницаИзмерения

ИНДЕКСИРОВАТЬ ПО
	Накладная,
	Номенклатура,
	ЕдиницаИзмерения
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	втВозвратПоРО.Накладная КАК Накладная
ПОМЕСТИТЬ втПолныйВозвртПоРО
ИЗ
	втТоварыРО КАК втТоварыРО
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ втВозвратПоРО КАК втВозвратПоРО
		ПО втТоварыРО.Накладная = втВозвратПоРО.Накладная
			И втТоварыРО.Номенклатура = втВозвратПоРО.Номенклатура
			И втТоварыРО.ЕдиницаИзмерения = втВозвратПоРО.ЕдиницаИзмерения

СГРУППИРОВАТЬ ПО
	втВозвратПоРО.Накладная

ИМЕЮЩИЕ
	МИНИМУМ(втТоварыРО.Количество = втВозвратПоРО.КоличествоВозврат) = ИСТИНА

ИНДЕКСИРОВАТЬ ПО
	Накладная
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	втТоварыРО.Накладная КАК Накладная,
	втТоварыРО.Накладная.Получатель КАК Контрагент,
	втТоварыРО.Номенклатура КАК Номенклатура,
	втТоварыРО.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	втТоварыРО.Количество КАК КоличествоВОрдерах,
	0 КАК Количество,
	втТоварыРО.Количество КАК РасхождениеКоличество,
	0 КАК РасхождениеСумма,
	ЛОЖЬ КАК Согласовано,
	"Реализация товаров1" КАК ВидДокументов,
	втТоварыРО.Накладная.Склад КАК Склад
ИЗ
	втТоварыРО КАК втТоварыРО
		ЛЕВОЕ СОЕДИНЕНИЕ втПолныйВозвртПоРО КАК втПолныйВозвртПоРО
		ПО втТоварыРО.Накладная = втПолныйВозвртПоРО.Накладная
ГДЕ
	втПолныйВозвртПоРО.Накладная ЕСТЬ NULL</query>
		</item>
		<item xsi:type="DataSetQuery">
			<name>ПриходникиБезПоступленийОборудование</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>ЕдиницаИзмерения</dataPath>
				<field>ЕдиницаИзмерения</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Количество</dataPath>
				<field>Количество</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Номенклатура</dataPath>
				<field>Номенклатура</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Склад</dataPath>
				<field>Склад</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ДатаВходящегоДокумента</dataPath>
				<field>ДатаВходящегоДокумента</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>НомерВходящегоДокумента</dataPath>
				<field>НомерВходящегоДокумента</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Контрагент</dataPath>
				<field>Контрагент</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>КоличествоВОрдерах</dataPath>
				<field>КоличествоВОрдерах</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>РасхождениеКоличество</dataPath>
				<field>РасхождениеКоличество</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>РасхождениеСумма</dataPath>
				<field>РасхождениеСумма</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Согласовано</dataPath>
				<field>Согласовано</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидДокументов</dataPath>
				<field>ВидДокументов</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Накладная</dataPath>
				<field>Накладная</field>
			</field>
			<dataSource>ИсточникДанных1</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ПриходныйОрдерСкладОборудование.Ссылка.ДатаДокументаПоставщика КАК ДатаВходящегоДокумента,
	ПриходныйОрдерСкладОборудование.Ссылка.НомерДокументаПоставщика КАК НомерВходящегоДокумента,
	ПриходныйОрдерСкладОборудование.Ссылка КАК Накладная,
	ПриходныйОрдерСкладОборудование.Ссылка.Поставщик КАК Контрагент,
	ПриходныйОрдерСкладОборудование.ОсновноеСредство КАК Номенклатура,
	ЗНАЧЕНИЕ(Справочник.ЕдиницыИзмерения.ПустаяСсылка) КАК ЕдиницаИзмерения,
	СУММА(1) КАК КоличествоВОрдерах,
	СУММА(0) КАК Количество,
	СУММА(1) КАК РасхождениеКоличество,
	СУММА(0) КАК РасхождениеСумма,
	ЛОЖЬ КАК Согласовано,
	"Поступление оборудования от поставщика" КАК ВидДокументов,
	ПриходныйОрдерСкладОборудование.Ссылка.Склад КАК Склад
ИЗ
	Документ.ПриходныйОрдерСклад.Оборудование КАК ПриходныйОрдерСкладОборудование
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ПоступлениеТоваровУслуг.Оборудование КАК ПоступлениеТоваровУслугОборудование
		ПО ПриходныйОрдерСкладОборудование.ОсновноеСредство = ПоступлениеТоваровУслугОборудование.ОсновноеСредство
			И (ПоступлениеТоваровУслугОборудование.Ссылка.Проведен)
ГДЕ
	ПриходныйОрдерСкладОборудование.Ссылка.ВидОперации = ЗНАЧЕНИЕ(Перечисление.ВидыОперацийПриходСкладскойУчет.ПоступлениеОборудованияОтПоставщика)
	И ПриходныйОрдерСкладОборудование.Ссылка.Проведен
	И ПриходныйОрдерСкладОборудование.Ссылка.Отменен = Ложь
	И ПриходныйОрдерСкладОборудование.Ссылка.Дата МЕЖДУ &amp;ДатаНачала И &amp;ДатаОкончания
	И ПоступлениеТоваровУслугОборудование.Ссылка ЕСТЬ NULL 

СГРУППИРОВАТЬ ПО
	ПриходныйОрдерСкладОборудование.Ссылка.ДатаДокументаПоставщика,
	ПриходныйОрдерСкладОборудование.Ссылка.НомерДокументаПоставщика,
	ПриходныйОрдерСкладОборудование.Ссылка,
	ПриходныйОрдерСкладОборудование.Ссылка.Поставщик,
	ПриходныйОрдерСкладОборудование.ОсновноеСредство,
	ПриходныйОрдерСкладОборудование.Ссылка.Склад</query>
		</item>
		<item xsi:type="DataSetQuery">
			<name>ПоступленияОборудования</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидДокументов</dataPath>
				<field>ВидДокументов</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ДатаВходящегоДокумента</dataPath>
				<field>ДатаВходящегоДокумента</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ЕдиницаИзмерения</dataPath>
				<field>ЕдиницаИзмерения</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Количество</dataPath>
				<field>Количество</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>КоличествоВОрдерах</dataPath>
				<field>КоличествоВОрдерах</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Контрагент</dataPath>
				<field>Контрагент</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Накладная</dataPath>
				<field>Накладная</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Номенклатура</dataPath>
				<field>Номенклатура</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>НомерВходящегоДокумента</dataPath>
				<field>НомерВходящегоДокумента</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>РасхождениеКоличество</dataPath>
				<field>РасхождениеКоличество</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>РасхождениеСумма</dataPath>
				<field>РасхождениеСумма</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Склад</dataPath>
				<field>Склад</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Согласовано</dataPath>
				<field>Согласовано</field>
			</field>
			<dataSource>ИсточникДанных1</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ПоступлениеТоваровУслугОборудование.Ссылка.ДатаВходящегоДокумента,
	ПоступлениеТоваровУслугОборудование.Ссылка.НомерВходящегоДокумента,
	ПоступлениеТоваровУслугОборудование.Ссылка КАК ПоступлениеТУ,
	ПоступлениеТоваровУслугОборудование.Ссылка.Контрагент,
	ПоступлениеТоваровУслугПриходныеОрдера.ПриходныйОрдер,
	ПоступлениеТоваровУслугОборудование.ОсновноеСредство,
	1 КАК Количество,
	ПоступлениеТоваровУслугОборудование.Сумма КАК Цена
ПОМЕСТИТЬ ТаблицаПоступлений
ИЗ
	Документ.ПоступлениеТоваровУслуг.Оборудование КАК ПоступлениеТоваровУслугОборудование
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ Документ.ПоступлениеТоваровУслуг.ПриходныеОрдера КАК ПоступлениеТоваровУслугПриходныеОрдера
		ПО ПоступлениеТоваровУслугОборудование.Ссылка = ПоступлениеТоваровУслугПриходныеОрдера.Ссылка
ГДЕ
	ПоступлениеТоваровУслугОборудование.Ссылка.Проведен
	И ПоступлениеТоваровУслугОборудование.Ссылка.Дата МЕЖДУ &amp;ДатаНачала И &amp;ДатаОкончания
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ТаблицаПоступлений.ДатаВходящегоДокумента,
	ТаблицаПоступлений.НомерВходящегоДокумента,
	ТаблицаПоступлений.ПоступлениеТУ,
	ТаблицаПоступлений.Контрагент,
	ТаблицаПоступлений.ОсновноеСредство,
	ТаблицаПоступлений.Количество,
	ТаблицаПоступлений.Цена,
	ВЫБОР
		КОГДА ПриходныйОрдерСкладОборудование.Ссылка ЕСТЬ NULL 
			ТОГДА 0
		ИНАЧЕ 1
	КОНЕЦ КАК КоличествоВОрдерах,
	ТаблицаПоступлений.ПриходныйОрдер.Склад КАК Склад
ПОМЕСТИТЬ ТаблицаДляГруппировкиПрихода
ИЗ
	ТаблицаПоступлений КАК ТаблицаПоступлений
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ПриходныйОрдерСклад.Оборудование КАК ПриходныйОрдерСкладОборудование
		ПО ТаблицаПоступлений.ПриходныйОрдер = ПриходныйОрдерСкладОборудование.Ссылка
			И ТаблицаПоступлений.ОсновноеСредство = ПриходныйОрдерСкладОборудование.ОсновноеСредство
			И (ПриходныйОрдерСкладОборудование.Ссылка.Проведен)
			И ПриходныйОрдерСкладОборудование.Ссылка.Отменен = Ложь
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ВложенныйЗапрос.ДатаВходящегоДокумента,
	ВложенныйЗапрос.НомерВходящегоДокумента,
	ВложенныйЗапрос.ПоступлениеТУ КАК Накладная,
	ВложенныйЗапрос.Контрагент,
	ВложенныйЗапрос.Номенклатура,
	ЗНАЧЕНИЕ(Справочник.ЕдиницыИзмерения.ПустаяСсылка) КАК ЕдиницаИзмерения,
	ВложенныйЗапрос.КоличествоВОрдерах,
	ВложенныйЗапрос.Количество,
	ВЫБОР
		КОГДА ВложенныйЗапрос.КоличествоВОрдерах &gt;= ВложенныйЗапрос.Количество
			ТОГДА ВложенныйЗапрос.КоличествоВОрдерах - ВложенныйЗапрос.Количество
		ИНАЧЕ ВложенныйЗапрос.Количество - ВложенныйЗапрос.КоличествоВОрдерах
	КОНЕЦ КАК РасхождениеКоличество,
	ВЫБОР
		КОГДА ВложенныйЗапрос.КоличествоВОрдерах &gt;= ВложенныйЗапрос.Количество
			ТОГДА ВложенныйЗапрос.КоличествоВОрдерах - ВложенныйЗапрос.Количество
		ИНАЧЕ ВложенныйЗапрос.Количество - ВложенныйЗапрос.КоличествоВОрдерах
	КОНЕЦ * ВложенныйЗапрос.Цена КАК РасхождениеСумма,
	ВЫБОР
		КОГДА ВложенныйЗапрос.Количество = ВложенныйЗапрос.КоличествоВОрдерах
			ТОГДА ИСТИНА
		ИНАЧЕ ЛОЖЬ
	КОНЕЦ КАК Согласовано,
	"Поступление оборудования от поставщика" КАК ВидДокументов,
	ВложенныйЗапрос.Склад
ИЗ
	(ВЫБРАТЬ
		ТаблицаДляГруппировкиПрихода.ДатаВходящегоДокумента КАК ДатаВходящегоДокумента,
		ТаблицаДляГруппировкиПрихода.НомерВходящегоДокумента КАК НомерВходящегоДокумента,
		ТаблицаДляГруппировкиПрихода.ПоступлениеТУ КАК ПоступлениеТУ,
		ТаблицаДляГруппировкиПрихода.Контрагент КАК Контрагент,
		ТаблицаДляГруппировкиПрихода.ОсновноеСредство КАК Номенклатура,
		МАКСИМУМ(ТаблицаДляГруппировкиПрихода.Количество) КАК Количество,
		МАКСИМУМ(ТаблицаДляГруппировкиПрихода.Цена) КАК Цена,
		СУММА(ТаблицаДляГруппировкиПрихода.КоличествоВОрдерах) КАК КоличествоВОрдерах,
		МАКСИМУМ(ТаблицаДляГруппировкиПрихода.Склад) КАК Склад
	ИЗ
		ТаблицаДляГруппировкиПрихода КАК ТаблицаДляГруппировкиПрихода
	
	СГРУППИРОВАТЬ ПО
		ТаблицаДляГруппировкиПрихода.ДатаВходящегоДокумента,
		ТаблицаДляГруппировкиПрихода.НомерВходящегоДокумента,
		ТаблицаДляГруппировкиПрихода.ПоступлениеТУ,
		ТаблицаДляГруппировкиПрихода.Контрагент,
		ТаблицаДляГруппировкиПрихода.ОсновноеСредство,
		ТаблицаДляГруппировкиПрихода.Склад) КАК ВложенныйЗапрос
ГДЕ
	ВложенныйЗапрос.КоличествоВОрдерах - ВложенныйЗапрос.Количество &lt;&gt; 0</query>
		</item>
		<item xsi:type="DataSetQuery">
			<name>ОтгрузкаВыездноеМероприятие</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>НомерВходящегоДокумента</dataPath>
				<field>НомерВходящегоДокумента</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Номер входящего документа</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Согласовано</dataPath>
				<field>Согласовано</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Согласовано</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Накладная</dataPath>
				<field>Накладная</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Накладная</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>РасхождениеКоличество</dataPath>
				<field>РасхождениеКоличество</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Расхождение количество</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ДатаВходящегоДокумента</dataPath>
				<field>ДатаВходящегоДокумента</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Дата входящего документа</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Контрагент</dataPath>
				<field>Контрагент</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Контрагент</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Количество</dataPath>
				<field>Количество</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Количество</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВидДокументов</dataPath>
				<field>ВидДокументов</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Вид документов</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Склад</dataPath>
				<field>Склад</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ЕдиницаИзмерения</dataPath>
				<field>ЕдиницаИзмерения</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>РасхождениеСумма</dataPath>
				<field>РасхождениеСумма</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Расхождение сумма</v8:content>
					</v8:item>
				</title>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Номенклатура</dataPath>
				<field>Номенклатура</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>КоличествоВОрдерах</dataPath>
				<field>КоличествоВОрдерах</field>
				<title xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Количество в ордерах</v8:content>
					</v8:item>
				</title>
			</field>
			<dataSource>ИсточникДанных1</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ДАТАВРЕМЯ(1, 1, 1) КАК ДатаВходящегоДокумента,
	"" КАК НомерВходящегоДокумента,
	РасходныйОрдерСкладТовары.Ссылка КАК Накладная,
	РасходныйОрдерСкладТовары.Ссылка.Получатель КАК Контрагент,
	РасходныйОрдерСкладТовары.Номенклатура КАК Номенклатура,
	РасходныйОрдерСкладТовары.ЕдиницаИзмерения КАК ЕдиницаИзмерения,
	СУММА(РасходныйОрдерСкладТовары.Количество) КАК КоличествоВОрдерах,
	СУММА(0) КАК Количество,
	СУММА(РасходныйОрдерСкладТовары.Количество) КАК РасхождениеКоличество,
	СУММА(0) КАК РасхождениеСумма,
	ЛОЖЬ КАК Согласовано,
	"Выездное мероприятие" КАК ВидДокументов,
	РасходныйОрдерСкладТовары.Ссылка.Склад КАК Склад
ИЗ
	Документ.РасходныйОрдерСклад.Товары КАК РасходныйОрдерСкладТовары
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ЗначенияСвойствСтруктурныхЕдиниц КАК ЗначенияСвойствСтруктурныхЕдиниц
		ПО РасходныйОрдерСкладТовары.Ссылка.Получатель = ЗначенияСвойствСтруктурныхЕдиниц.СтруктурнаяЕдиница
			И (ЗначенияСвойствСтруктурныхЕдиниц.Свойство = ЗНАЧЕНИЕ(ПланВидовХарактеристик.СвойстваСтруктурныхЕдиниц.ВыездноеМероприятие))
ГДЕ
	РасходныйОрдерСкладТовары.Ссылка.Проведен
	И ВЫБОР
			КОГДА РасходныйОрдерСкладТовары.Ссылка.ДатаРаспределения = ДАТАВРЕМЯ(1, 1, 1)
				ТОГДА РасходныйОрдерСкладТовары.Ссылка.Дата МЕЖДУ &amp;ДатаНачала И &amp;ДатаОкончания
			ИНАЧЕ РасходныйОрдерСкладТовары.Ссылка.ДатаРаспределения МЕЖДУ &amp;ДатаНачала И &amp;ДатаОкончания
		КОНЕЦ
	И РасходныйОрдерСкладТовары.Ссылка.ВидОперации В (ЗНАЧЕНИЕ(Перечисление.ВидыОперацийРасходСкладскойУчет.ОтгрузкаВТорговуюТочку))
	И НЕ РасходныйОрдерСкладТовары.Ссылка.ПризкакПодтвержденияВФинУчете
	И НЕ РасходныйОрдерСкладТовары.Ссылка.Статус = ЗНАЧЕНИЕ(Перечисление.СтатусыРасходныхОрдеров.Отменен)
	И ЗначенияСвойствСтруктурныхЕдиниц.Значение

СГРУППИРОВАТЬ ПО
	РасходныйОрдерСкладТовары.Ссылка,
	РасходныйОрдерСкладТовары.Ссылка.Получатель,
	РасходныйОрдерСкладТовары.Номенклатура,
	РасходныйОрдерСкладТовары.ЕдиницаИзмерения,
	РасходныйОрдерСкладТовары.Ссылка.Склад</query>
		</item>
	</dataSet>
	<totalField>
		<dataPath>РасхождениеСумма</dataPath>
		<expression>Сумма(РасхождениеСумма)</expression>
	</totalField>
	<totalField>
		<dataPath>Количество</dataPath>
		<expression>Сумма(Количество)</expression>
	</totalField>
	<totalField>
		<dataPath>КоличествоВОрдерах</dataPath>
		<expression>Сумма(КоличествоВОрдерах)</expression>
	</totalField>
	<totalField>
		<dataPath>РасхождениеКоличество</dataPath>
		<expression>Сумма(РасхождениеКоличество)</expression>
	</totalField>
	<parameter>
		<name>ДатаНачала</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Дата начала</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>true</useRestriction>
		<expression>&amp;Период.ДатаНачала</expression>
	</parameter>
	<parameter>
		<name>ДатаОкончания</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Дата окончания</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>true</useRestriction>
		<expression>&amp;Период.ДатаОкончания</expression>
	</parameter>
	<parameter>
		<name>Период</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Период</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>v8:StandardPeriod</v8:Type>
		</valueType>
		<value xsi:type="v8:StandardPeriod">
			<v8:variant xsi:type="v8:StandardPeriodVariant">Custom</v8:variant>
			<v8:startDate>0001-01-01T00:00:00</v8:startDate>
			<v8:endDate>0001-01-01T00:00:00</v8:endDate>
		</value>
		<useRestriction>false</useRestriction>
		<denyIncompleteValues>true</denyIncompleteValues>
		<use>Always</use>
	</parameter>
	<settingsVariant>
		<dcsset:name>Основной</dcsset:name>
		<dcsset:presentation xsi:type="xs:string">Основной</dcsset:presentation>
		<dcsset:settings xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows">
			<dcsset:selection>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Номенклатура</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>ЕдиницаИзмерения</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>КоличествоВОрдерах</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Количество</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>РасхождениеКоличество</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>РасхождениеСумма</dcsset:field>
				</dcsset:item>
			</dcsset:selection>
			<dcsset:filter>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Контрагент</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:userSettingID>c57d3232-5143-4dcc-9bcc-dc2ab974aabb</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Склад</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:userSettingID>d728e9c3-3407-4a69-b9ad-49ccd9e7097f</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Согласовано</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="xs:boolean">true</dcsset:right>
					<dcsset:userSettingID>4cfbcf44-7c6e-4c86-9b19-10b3f38f5043</dcsset:userSettingID>
				</dcsset:item>
			</dcsset:filter>
			<dcsset:dataParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Период</dcscor:parameter>
					<dcscor:value xsi:type="v8:StandardPeriod">
						<v8:variant xsi:type="v8:StandardPeriodVariant">Custom</v8:variant>
						<v8:startDate>0001-01-01T00:00:00</v8:startDate>
						<v8:endDate>0001-01-01T00:00:00</v8:endDate>
					</dcscor:value>
					<dcsset:userSettingID>e77a34dd-7cfc-4759-b731-4c9ac42e7bc7</dcsset:userSettingID>
				</dcscor:item>
			</dcsset:dataParameters>
			<dcsset:order>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>Склад</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>Номенклатура</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>Характеристика</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
			</dcsset:order>
			<dcsset:outputParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ГоризонтальноеРасположениеОбщихИтогов</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DataCompositionTotalPlacement">None</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВертикальноеРасположениеОбщихИтогов</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:DataCompositionTotalPlacement">None</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Заголовок</dcscor:parameter>
					<dcscor:value xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Отчет по расхождению данных склада и финансовой службы</v8:content>
						</v8:item>
					</dcscor:value>
				</dcscor:item>
			</dcsset:outputParameters>
			<dcsset:item xsi:type="dcsset:StructureItemGroup">
				<dcsset:groupItems>
					<dcsset:item xsi:type="dcsset:GroupItemField">
						<dcsset:field>ВидДокументов</dcsset:field>
						<dcsset:groupType>Items</dcsset:groupType>
						<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
						<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
						<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
					</dcsset:item>
				</dcsset:groupItems>
				<dcsset:order>
					<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
				</dcsset:order>
				<dcsset:selection>
					<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
				</dcsset:selection>
				<dcsset:item xsi:type="dcsset:StructureItemGroup">
					<dcsset:groupItems>
						<dcsset:item xsi:type="dcsset:GroupItemField">
							<dcsset:field>Склад</dcsset:field>
							<dcsset:groupType>Items</dcsset:groupType>
							<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
							<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
							<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
						</dcsset:item>
					</dcsset:groupItems>
					<dcsset:order>
						<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
					</dcsset:order>
					<dcsset:selection>
						<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
					</dcsset:selection>
					<dcsset:item xsi:type="dcsset:StructureItemGroup">
						<dcsset:groupItems>
							<dcsset:item xsi:type="dcsset:GroupItemField">
								<dcsset:field>Накладная</dcsset:field>
								<dcsset:groupType>Items</dcsset:groupType>
								<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
								<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
								<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
							</dcsset:item>
							<dcsset:item xsi:type="dcsset:GroupItemField">
								<dcsset:field>Согласовано</dcsset:field>
								<dcsset:groupType>Items</dcsset:groupType>
								<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
								<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
								<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
							</dcsset:item>
						</dcsset:groupItems>
						<dcsset:order>
							<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
						</dcsset:order>
						<dcsset:selection>
							<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
						</dcsset:selection>
						<dcsset:item xsi:type="dcsset:StructureItemGroup">
							<dcsset:groupItems>
								<dcsset:item xsi:type="dcsset:GroupItemField">
									<dcsset:field>Контрагент</dcsset:field>
									<dcsset:groupType>Items</dcsset:groupType>
									<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
									<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
									<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
								</dcsset:item>
								<dcsset:item xsi:type="dcsset:GroupItemField">
									<dcsset:field>ДатаВходящегоДокумента</dcsset:field>
									<dcsset:groupType>Items</dcsset:groupType>
									<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
									<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
									<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
								</dcsset:item>
								<dcsset:item xsi:type="dcsset:GroupItemField">
									<dcsset:field>НомерВходящегоДокумента</dcsset:field>
									<dcsset:groupType>Items</dcsset:groupType>
									<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
									<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
									<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
								</dcsset:item>
							</dcsset:groupItems>
							<dcsset:order>
								<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
							</dcsset:order>
							<dcsset:selection>
								<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
							</dcsset:selection>
							<dcsset:item xsi:type="dcsset:StructureItemGroup">
								<dcsset:order>
									<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
								</dcsset:order>
								<dcsset:selection>
									<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
								</dcsset:selection>
							</dcsset:item>
						</dcsset:item>
					</dcsset:item>
				</dcsset:item>
			</dcsset:item>
		</dcsset:settings>
	</settingsVariant>
	<settingsVariant>
		<dcsset:name>Компактно</dcsset:name>
		<dcsset:presentation xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Компактно</v8:content>
			</v8:item>
		</dcsset:presentation>
		<dcsset:settings xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows">
			<dcsset:selection>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Накладная</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Контрагент</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Номенклатура</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Количество</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>КоличествоВОрдерах</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>РасхождениеКоличество</dcsset:field>
				</dcsset:item>
			</dcsset:selection>
			<dcsset:filter>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:left xsi:type="dcscor:Field">Согласовано</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="xs:boolean">false</dcsset:right>
				</dcsset:item>
			</dcsset:filter>
			<dcsset:dataParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Период</dcscor:parameter>
					<dcscor:value xsi:type="v8:StandardPeriod">
						<v8:variant xsi:type="v8:StandardPeriodVariant">Custom</v8:variant>
						<v8:startDate>0001-01-01T00:00:00</v8:startDate>
						<v8:endDate>0001-01-01T00:00:00</v8:endDate>
					</dcscor:value>
					<dcsset:userSettingID>e40578b3-671f-4b6f-9fea-fe26816143d6</dcsset:userSettingID>
				</dcscor:item>
			</dcsset:dataParameters>
			<dcsset:order>
				<dcsset:item xsi:type="dcsset:OrderItemField">
					<dcsset:field>Накладная.Дата</dcsset:field>
					<dcsset:orderType>Asc</dcsset:orderType>
				</dcsset:item>
			</dcsset:order>
			<dcsset:item xsi:type="dcsset:StructureItemGroup">
				<dcsset:order>
					<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
				</dcsset:order>
				<dcsset:selection>
					<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
				</dcsset:selection>
			</dcsset:item>
		</dcsset:settings>
	</settingsVariant>
</DataCompositionSchema>