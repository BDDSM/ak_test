
&НаКлиенте
Процедура ПериодОтчетаПриИзменении(Элемент)
	
	УстановитьПараметры();
	
КонецПроцедуры

Процедура УстановитьПараметры()
	
	ИнфокомТиповыеОтчеты.УстановитьПараметр(Отчет.КомпоновщикНастроек,"ДатаНачала",НачалоДня(Отчет.ПериодОтчета.ДатаНачала),Истина);
	ИнфокомТиповыеОтчеты.УстановитьПараметр(Отчет.КомпоновщикНастроек,"ДатаОкончания",КонецДня(Отчет.ПериодОтчета.ДатаОкончания),Истина);

КонецПроцедуры

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Отчет.ПериодОтчета.ДатаНачала = НачалоМесяца(НачалоМесяца(ТекущаяДата() - 60));
	Отчет.ПериодОтчета.ДатаОкончания = КонецМесяца(НачалоМесяца(ТекущаяДата() - 60));
	
	УстановитьПараметры();	
	
КонецПроцедуры

&НаКлиенте
Процедура ВыполнитьРассылку(Команда)
	ПараметрыОткрытия = Новый Структура;
	ПараметрыОткрытия.Вставить("ДатаНачала",Отчет.ПериодОтчета.ДатаНачала);
	ПараметрыОткрытия.Вставить("ДатаОкончания",Отчет.ПериодОтчета.ДатаОкончания);
	ОткрытьФорму("Отчет.АК_ОтчетПоРасходамНаМобильнуюСвязь.Форма.ФормаРассылки",ПараметрыОткрытия);
КонецПроцедуры

&НаКлиенте
Процедура ОбновитьОтчет(Команда)
	СкомпоноватьРезультат();
	УстановитьУсловноеОформление();
	
	
КонецПроцедуры

Процедура УстановитьУсловноеОформление()
	Отчет.КомпоновщикНастроек.Настройки.УсловноеОформление.Элементы.Очистить();
	
	
	
	
	
КонецПроцедуры	

&НаСервере
Процедура ОбработкаПроверкиЗаполненияНаСервере(Отказ, ПроверяемыеРеквизиты)
	//Вставить содержимое обработчика
КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытии(Отказ)
	УстановитьПараметры();
КонецПроцедуры
