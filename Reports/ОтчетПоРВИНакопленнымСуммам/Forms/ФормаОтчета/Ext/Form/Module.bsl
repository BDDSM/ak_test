
&НаКлиенте
Процедура ОткрытьЛистУчета(Команда)
	
	Если Элементы.ТабРезультат.ТекущиеДанные = Неопределено Тогда
		Возврат;
	КонецЕсли;	
	
	ОткрытьЗначение(Элементы.ТабРезультат.ТекущиеДанные.ЛистУчета);
	
КонецПроцедуры

Процедура ЗаписатьДанныеВЛист(ЛистУчета, Касса, Сумма)
	
	ДокОбъект = ЛистУчета.ПолучитьОбъект();
	СтрокаОтчета = ДокОбъект.ZОтчеты.Найти(Касса, "Касса");
	Если СтрокаОтчета = Неопределено Тогда
		Сообщить("Строка для кассы не найдена в документе. Данные не записаны");
		Возврат;
	КонецЕсли;	
	СтрокаОтчета.ВведенныйОстаток = Сумма;
	ДокОбъект.ДополнительныеСвойства.Вставить("ВыполняетсяЗаписьТолькоПродавцов", Истина);
	ДокОбъект.Записать(РежимЗаписиДокумента.Запись);
	
КонецПроцедуры	


&НаКлиенте
Процедура ТабРезультатПриОкончанииРедактирования(Элемент, НоваяСтрока, ОтменаРедактирования)
	
	Элементы.ТабРезультат.ТекущиеДанные.Разница = Элементы.ТабРезультат.ТекущиеДанные.СуммаВручную - Элементы.ТабРезультат.ТекущиеДанные.СуммаРВ;
	ЗаписатьДанныеВЛист(Элементы.ТабРезультат.ТекущиеДанные.ЛистУчета, Элементы.ТабРезультат.ТекущиеДанные.Касса, Элементы.ТабРезультат.ТекущиеДанные.СуммаВручную);
	
КонецПроцедуры

