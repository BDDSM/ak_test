

Процедура РезультатОбработкаРасшифровки(Элемент, Расшифровка, СтандартнаяОбработка)
	
	ЗначениеРасшифровки = ПолучитьЗначениеРасшифровкиНаСервере(Расшифровка, СтандартнаяОбработка);
	Если ЗначениеЗаполнено(ЗначениеРасшифровки) Тогда
		Если Найти(ЗначениеРасшифровки, "ttр") = 0 Тогда
			ЗначениеРасшифровки = "http://" + ЗначениеРасшифровки;
		КонецЕсли;
		ЗапуститьПриложение(ЗначениеРасшифровки);
	КонецЕсли;
	
КонецПроцедуры

Функция ПолучитьЗначениеРасшифровкиНаСервере(Расшифровка, СтандартнаяОбработка)
	
 ЭлементыРасшифровки 	= ДанныеРасшифровки.Элементы.Получить(Расшифровка);
 ПоляРасшифровки = ЭлементыРасшифровки.ПолучитьПоля();

 Если ПоляРасшифровки <> Неопределено И ПоляРасшифровки.Количество() И 
	 		ПоляРасшифровки[0].Поле = "Сайт" И 
				ЗначениеЗаполнено(ПоляРасшифровки[0].Значение) И 
					Найти(ПоляРасшифровки[0].Значение,".")>1 Тогда
	 СтандартнаяОбработка = Ложь;
	 
	 Возврат ПоляРасшифровки[0].Значение;
	 
 КонецЕсли;
 
 Возврат Неопределено;
 
КонецФункции


