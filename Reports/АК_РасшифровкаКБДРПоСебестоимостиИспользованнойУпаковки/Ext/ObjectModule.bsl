
Процедура ПриКомпоновкеРезультата(ДокументРезультат, ДанныеРасшифровки, СтандартнаяОбработка)
	
	СтандартнаяОбработка = Ложь;
	
	мДатаРаспределения = Дата(1, 1, 1);
	Для Каждого ПользПоле Из КомпоновщикНастроек.ПользовательскиеНастройки.Элементы Цикл
		Если ТипЗнч(ПользПоле) = Тип("ЗначениеПараметраНастроекКомпоновкиДанных")
				И Строка(ПользПоле.Параметр) = "ДатаПоказателей" Тогда
			мДатаРаспределения = ПользПоле.Значение.Дата;
			Прервать;
		КонецЕсли;	
	КонецЦикла;
	
	Заголовок1 = "Заказано на " + Формат(мДатаРаспределения			, "ДЛФ=Д");
	Заголовок2 = "Заказано на " + Формат(мДатаРаспределения + 86400	, "ДЛФ=Д");
	Заголовок3 = "Заказано на " + Формат(мДатаРаспределения + 2*86400, "ДЛФ=Д");
	Заголовок4 = "Заказано на " + Формат(мДатаРаспределения + 3*86400, "ДЛФ=Д");
	Заголовок5 = "Заказано на " + Формат(мДатаРаспределения + 4*86400, "ДЛФ=Д");
	Заголовок6 = "Заказано на " + Формат(мДатаРаспределения + 5*86400, "ДЛФ=Д");
	
	ПолеКомпоновкиКолЗаказ1 = Новый ПолеКомпоновкиДанных("КоличествоЗаказ");
	ПолеКомпоновкиКолЗаказ2 = Новый ПолеКомпоновкиДанных("КоличествоЗаказ2");
	ПолеКомпоновкиКолЗаказ3 = Новый ПолеКомпоновкиДанных("КоличествоЗаказ3");
	ПолеКомпоновкиКолЗаказ4 = Новый ПолеКомпоновкиДанных("КоличествоЗаказ4");
	ПолеКомпоновкиКолЗаказ5 = Новый ПолеКомпоновкиДанных("КоличествоЗаказ5");
	ПолеКомпоновкиКолЗаказ6 = Новый ПолеКомпоновкиДанных("КоличествоЗаказ6");
	
	ЭлементыПолейВыбора = КомпоновщикНастроек.Настройки.Выбор.Элементы;
	Для Каждого ПолеВыбора Из ЭлементыПолейВыбора Цикл
		Если ПолеВыбора.Поле = ПолеКомпоновкиКолЗаказ1 Тогда
            ПолеВыбора.Заголовок = Заголовок1;
		ИначеЕсли ПолеВыбора.Поле = ПолеКомпоновкиКолЗаказ2 Тогда
            ПолеВыбора.Заголовок = Заголовок2;
		ИначеЕсли ПолеВыбора.Поле = ПолеКомпоновкиКолЗаказ3 Тогда
            ПолеВыбора.Заголовок = Заголовок3;
		ИначеЕсли ПолеВыбора.Поле = ПолеКомпоновкиКолЗаказ4 Тогда
            ПолеВыбора.Заголовок = Заголовок4;
		ИначеЕсли ПолеВыбора.Поле = ПолеКомпоновкиКолЗаказ5 Тогда
            ПолеВыбора.Заголовок = Заголовок5;
		ИначеЕсли ПолеВыбора.Поле = ПолеКомпоновкиКолЗаказ6 Тогда
            ПолеВыбора.Заголовок = Заголовок6;
		КонецЕсли;
	КонецЦикла;
	
	//
	Настройки = КомпоновщикНастроек.ПолучитьНастройки();

	// Формируем макет, с помощью компоновщика макета
	КомпоновщикМакета = Новый КомпоновщикМакетаКомпоновкиДанных;

	// Передаем в макет компоновки схему, настройки и данные расшифровки
	МакетКомпоновки = КомпоновщикМакета.Выполнить(СхемаКомпоновкиДанных, Настройки, ДанныеРасшифровки);

	// Выполним компоновку с помощью процессора компоновки
	ПроцессорКомпоновкиДанных = Новый ПроцессорКомпоновкиДанных;
	ПроцессорКомпоновкиДанных.Инициализировать(МакетКомпоновки,, ДанныеРасшифровки);

	// Выводим результат в табличный документ
	ПроцессорВывода = Новый ПроцессорВыводаРезультатаКомпоновкиДанныхВТабличныйДокумент;
	ПроцессорВывода.УстановитьДокумент(ДокументРезультат);
	ПроцессорВывода.Вывести(ПроцессорКомпоновкиДанных);	
	
КонецПроцедуры
